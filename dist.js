!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("source-map-support"),require("node-fetch"),require("cloudscraper")):"function"==typeof define&&define.amd?define(["source-map-support","node-fetch","cloudscraper"],t):"object"==typeof exports?exports["wstrade-api"]=t(require("source-map-support"),require("node-fetch"),require("cloudscraper")):e["wstrade-api"]=t(e._,e._,e._)}(global,(function(e,t,r){return(()=>{var n={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:(e,t,r)=>{var n=r(228);e.exports=function(e){if(Array.isArray(e))return n(e)}},926:e=>{function t(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}}},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:e=>{function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}},713:e=>{e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(e,t,r)=>{var n=r(858),i=r(884),a=r(379),o=r(521);e.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||o()}},319:(e,t,r)=>{var n=r(646),i=r(860),a=r(379),o=r(206);e.exports=function(e){return n(e)||i(e)||a(e)||o()}},379:(e,t,r)=>{var n=r(228);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},757:(e,t,r)=>{e.exports=r(666)},391:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(319),i=r.n(n),a=r(757),o=r.n(a),s=r(926),u=r.n(s),c=r(575),l=r.n(c),h=r(913),p=r.n(h),f=r(726),d=99,y=["sell","deposit","withdrawal","dividend","institutional_transfer","internal_transfer","refund","referral_bonus","affiliate","buy"];const v=function(){function e(t){l()(this,e),this.worker=t}var t,r,n,a,s,c,h,v,m;return p()(e,[{key:"all",value:(m=u()(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.worker.handleRequest(f.Z.ACCOUNT_IDS,{});case 2:return t=e.sent,e.abrupt("return",{tfsa:t.find((function(e){return e.startsWith("tfsa")})),rrsp:t.find((function(e){return e.startsWith("rrsp")})),crypto:t.find((function(e){return e.startsWith("non-registered-crypto")})),personal:t.find((function(e){return e.startsWith("non-registered")&&!e.startsWith("non-registered-crypto")}))});case 4:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"data",value:(v=u()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.LIST_ACCOUNT,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"me",value:(h=u()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.ME,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"person",value:(c=u()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.PERSON,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"history",value:(s=u()(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.HISTORY_ACCOUNT,{interval:t,accountId:r}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"activities",value:(a=u()(o().mark((function e(){var t,r,n,a,s,u,c,l,h,p,v=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(s=v.length>0&&void 0!==v[0]?v[0]:{})&&s.limit&&s.limit>d)){e.next=3;break}throw new Error("filters.limit can not exceed 99! Leave filters.limit undefined if you want to retrieve all.");case 3:if(null==s||!s.accounts||Array.isArray(s.accounts)){e.next=5;break}throw new Error("filters.accounts must be an array!");case 5:if(null==s||!s.type||Array.isArray(s.type)){e.next=7;break}throw new Error("filters.type must be an array!");case 7:return u=[],e.next=10,this.worker.handleRequest(f.Z.ACTIVITIES,{limit:null!==(t=null==s?void 0:s.limit)&&void 0!==t?t:d,accountIds:null!==(r=null==s||null===(n=s.accounts)||void 0===n?void 0:n.join())&&void 0!==r?r:"",bookmark:"",type:null!==(a=null==s?void 0:s.type)&&void 0!==a?a:y});case 10:if(c=e.sent,u.push.apply(u,i()(c.results)),null!=s&&s.limit){e.next=22;break}case 13:if(u.length%d!=0){e.next=22;break}return e.next=16,this.worker.handleRequest(f.Z.ACTIVITIES,{limit:d,accountIds:null!==(l=null==s||null===(h=s.accounts)||void 0===h?void 0:h.join())&&void 0!==l?l:"",bookmark:c.bookmark,type:null!==(p=null==s?void 0:s.type)&&void 0!==p?p:y});case 16:if(0!==(c=e.sent).results.length){e.next=19;break}return e.abrupt("break",22);case 19:u.push.apply(u,i()(c.results)),e.next=13;break;case 22:return e.abrupt("return",u);case 23:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getBankAccounts",value:(n=u()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.BANK_ACCOUNTS,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"deposits",value:(r=u()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.DEPOSITS,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"positions",value:(t=u()(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.POSITIONS,{accountId:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},726:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n={onFailure:function(e){return{status:e.statusCode,reason:e.statusMessage,body:e.body}},onSuccess:function(e){return e.body}};const i={LOGIN:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/login",authenticated:!1,onSuccess:function(e){return{tokens:{access:e.headers["x-access-token"],refresh:e.headers["x-refresh-token"],expires:parseInt(e.headers["x-access-token-expires"],10)},accountInfo:e.body}},onFailure:n.onFailure},REFRESH:{method:"POST",url:"https://trade-service.wealthsimple.com/auth/refresh",authenticated:!1,onSuccess:function(e){return{tokens:{access:e.headers["x-access-token"],refresh:e.headers["x-refresh-token"],expires:parseInt(e.headers["x-access-token-expires"],10)}}},onFailure:n.onFailure},ACCOUNT_IDS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:function(e){return e.body.results.filter((function(e){return"open"===e.status})).map((function(e){return e.id}))},onFailure:n.onFailure},LIST_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/list",authenticated:!0,onSuccess:function(e){return e.body.results},onFailure:n.onFailure},ME:{method:"GET",url:"https://trade-service.wealthsimple.com/me",authenticated:!0,onSuccess:n.onSuccess,onFailure:n.onFailure},PERSON:{method:"GET",url:"https://trade-service.wealthsimple.com/person",authenticated:!0,onSuccess:n.onSuccess,onFailure:n.onFailure},HISTORY_ACCOUNT:{method:"GET",url:"https://trade-service.wealthsimple.com/account/history/{0}?account_id={1}",authenticated:!0,parameters:{0:"interval",1:"accountId"},onSuccess:n.onSuccess,onFailure:n.onFailure},ACTIVITIES:{method:"GET",url:"https://trade-service.wealthsimple.com/account/activities?limit={0}&account_ids={1}&[2]&bookmark={3}",authenticated:!0,parameters:{0:"limit",1:"accountIds",2:"type",3:"bookmark"},onSuccess:n.onSuccess,onFailure:n.onFailure},DEPOSITS:{method:"GET",url:"https://trade-service.wealthsimple.com/deposits",authenticated:!0,onSuccess:function(e){return e.body.results},onFailure:n.onFailure},BANK_ACCOUNTS:{method:"GET",url:"https://trade-service.wealthsimple.com/bank-accounts",authenticated:!0,onSuccess:function(e){return e.body.results},onFailure:n.onFailure},EXCHANGE_RATES:{method:"GET",url:"https://trade-service.wealthsimple.com/forex",authenticated:!0,onSuccess:n.onSuccess,onFailure:n.onFailure},SECURITY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities?query={0}",authenticated:!0,parameters:{0:"ticker"},onSuccess:function(e){var t=e.body;if(0===t.results.length)throw new Error("Security does not exist");return t.results},onFailure:n.onFailure},EXTENSIVE_SECURITY_DETAILS:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}",authenticated:!0,parameters:{0:"id"},onSuccess:n.onSuccess,onFailure:n.onFailure},SECURITY_GROUPS:{method:"GET",url:"https://trade-service.wealthsimple.com/security-groups?limit=99",authenticated:!0,onSuccess:function(e){return e.body.results},onFailure:n.onFailure},SECURITY_GROUP:{method:"GET",url:"https://trade-service.wealthsimple.com/security-groups/{0}/securities",authenticated:!0,parameters:{0:"groupId"},onSuccess:function(e){return e.body.results},onFailure:n.onFailure},QUOTES_HISTORY:{method:"GET",url:"https://trade-service.wealthsimple.com/securities/{0}/historical_quotes/{1}?mic=XNAS",authenticated:!0,parameters:{0:"id",1:"interval"},onSuccess:n.onSuccess,onFailure:n.onFailure},POSITIONS:{method:"GET",url:"https://trade-service.wealthsimple.com/account/positions?account_id={0}",authenticated:!0,parameters:{0:"accountId"},onSuccess:function(e){return e.body.results},onFailure:n.onFailure},ORDERS_BY_PAGE:{method:"GET",url:"https://trade-service.wealthsimple.com/orders?offset={0}&account_id={1}",authenticated:!0,parameters:{0:"offset",1:"accountId"},onSuccess:function(e){var t=e.body;return{total:t.total,orders:t.results}},onFailure:n.onFailure},CANCEL_ORDER:{method:"DELETE",url:"https://trade-service.wealthsimple.com/orders/{0}",authenticated:!0,parameters:{0:"orderId"},onSuccess:n.onSuccess,onFailure:n.onFailure},PLACE_ORDER:{method:"POST",url:"https://trade-service.wealthsimple.com/orders",authenticated:!0,onSuccess:n.onSuccess,onFailure:n.onFailure}}},464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(757),i=r.n(n),a=r(926),o=r.n(a),s=r(575),u=r.n(s),c=r(913),l=r.n(c);const h=function(){function e(t){u()(this,e),this.worker=t}var t,r;return l()(e,[{key:"on",value:function(e,t){this.worker.on(e,t)}},{key:"use",value:function(e){this.worker.tokens.store(e)}},{key:"tokens",value:function(){return{access:this.worker.tokens.access,refresh:this.worker.tokens.refresh,expires:this.worker.tokens.expires}}},{key:"login",value:(r=o()(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.login(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"refresh",value:(t=o()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.refreshAuthentication());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},500:(e,t,r)=>{"use strict";r.d(t,{e:()=>a,Z:()=>o});var n=["implicit_token_refresh","securities_cache"],i=["securities_cache"],a=function(e){return!i.includes(e)};function o(e){if(!function(e){return null!=e&&e.startsWith("no_")?n.includes(e.substring("no_".length)):n.includes(e)}(e))throw new Error("'".concat(e,"' is not supported!"));if(null!=e&&e.startsWith("no_")){var t=e.substring(e.indexOf("_")+1);a(t)&&i.push(t)}else a(e)||i.splice(i.indexOf(e),1)}},657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(38),i=r.n(n),a=r(575),o=r.n(a),s=r(913),u=r.n(s),c=["NASDAQ","NYSE","TSX","TSX-V","AEQUITAS NEO EXCHANGE","CC"];const l=function(){function e(t){var r;if(o()(this,e),this.symbol=null,this.exchange=null,this.id=null,this.crypto=!1,"string"==typeof t){if(""===t)throw new Error("Empty ticker");var n=t.split(":"),a=i()(n,2);this.symbol=a[0],this.exchange=a[1]}else{if(!t.symbol&&!t.id)throw new Error("Invalid ticker '".concat(t,"'"));this.symbol=t.symbol||null,this.exchange=t.exchange||null,this.id=t.id||null}if("NEO"===this.exchange&&(this.exchange="AEQUITAS NEO EXCHANGE"),this.exchange&&!c.includes(this.exchange))throw new Error("Invalid exchange '".concat(this.exchange,"'!"));("CC"===this.exchange||null!==(r=this.id)&&void 0!==r&&r.startsWith("sec-z"))&&(this.crypto=!0)}return u()(e,[{key:"format",value:function(){return this.id?this.id:"AEQUITAS NEO EXCHANGE"===this.exchange?"".concat(this.symbol,":NEO"):"".concat(this.symbol).concat(this.exchange?":".concat(this.exchange):"")}},{key:"weakEquals",value:function(e){return!(!this.id||this.id!==e.id)||!(!this.symbol||this.symbol!==e.symbol||this.crypto!==e.crypto)}}]),e}()},752:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(713),i=r.n(n),a=r(38),o=r.n(a),s=r(757),u=r.n(s),c=r(926),l=r.n(c),h=r(575),p=r.n(h),f=r(913),d=r.n(f),y=r(726),v=r(657),m=r(500),w=new(function(){function e(t){p()(this,e),this.cache=new Map,this.size=t}return d()(e,[{key:"insert",value:function(e,t){this.cache.size>=this.size&&this.cache.delete(this.cache.keys().next().value),this.cache.set(e,t)}},{key:"get",value:function(e){return this.cache.get(e)}}]),e}())(10);const k=function(e){var t=w.get(new v.Z(e).format());return void 0===t?null:t};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=function(){function e(t){p()(this,e),this.worker=t}var t,r,n,a;return d()(e,[{key:"exchangeRates",value:(a=l()(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(y.Z.EXCHANGE_RATES,{}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getSecurity",value:(n=l()(u().mark((function e(t,r){var n,i,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,i=new v.Z(t),r||!(0,m.e)("securities_cache")){e.next=6;break}if(!(n=k(i))){e.next=6;break}return e.abrupt("return",n);case 6:if(!i.id){e.next=12;break}return e.next=9,this.worker.handleRequest(y.Z.EXTENSIVE_SECURITY_DETAILS,{id:i.id});case 9:n=e.sent,e.next=28;break;case 12:return e.next=14,this.worker.handleRequest(y.Z.SECURITY,{ticker:i.symbol});case 14:if(n=(n=e.sent).filter((function(e){return e.stock.symbol===i.symbol})),i.crypto?n=n.filter((function(e){return"cryptocurrency"===e.security_type})):i.exchange&&(n=n.filter((function(e){return e.stock.primary_exchange===i.exchange}))),!(n.length>1)){e.next=19;break}throw new Error("Multiple securities matched query.");case 19:if(0!==n.length){e.next=21;break}throw new Error("No securities matched query.");case 21:if(a=n,s=o()(a,1),n=s[0],!r){e.next=28;break}return e.next=27,this.worker.handleRequest(y.Z.EXTENSIVE_SECURITY_DETAILS,{id:n.id});case 27:n=e.sent;case 28:return(0,m.e)("securities_cache")&&null===k(i)&&(u=i,c=n,w.insert(new v.Z(u).format(),c)),e.abrupt("return",n);case 30:case"end":return e.stop()}var u,c}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"securityGroups",value:(r=l()(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.worker.handleRequest(y.Z.SECURITY_GROUPS,{});case 2:return t=e.sent,e.abrupt("return",t.reduce((function(e,t){return b(b({},e),{},i()({},t.name,t.external_security_group_id))}),{}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getSecurityGroup",value:(t=l()(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,null!=t&&t.startsWith("security-group")){e.next=8;break}return e.next=4,this.securityGroups();case 4:if(n=e.sent,t in n){e.next=7;break}throw new Error("'".concat(t,"' is not a valid group name!"));case 7:r=n[t];case 8:return e.abrupt("return",this.worker.handleRequest(y.Z.SECURITY_GROUP,{groupId:r}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},568:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(319),i=r.n(n),a=new(r(545).Headers);const o={add:function(e,t){return a.append(e,t)},remove:function(e){return a.delete(e)},clear:function(){return i()(a).forEach((function(e){return a.delete(e[0])}))},values:function(){return i()(a)}}},352:(e,t,r)=>{r(949).install();var n=r(464).Z,i=r(568).Z,a=r(391).Z,o=r(764).Z,s=r(752).Z,u=r(889).Z,c=r(500).Z,l=r(190).Z,h=function(){var e=new l,t=new s(e);return{auth:new n(e),headers:i,accounts:new a(e),orders:new o(e,t),quotes:new u(e,t),data:t,config:c}},p=new h;p.Session=function(){return new h},e.exports=p},190:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(757),i=r.n(n),a=r(38),o=r.n(a),s=r(926),u=r.n(s),c=r(575),l=r.n(c),h=r(913),p=r.n(h),f=r(713),d=r.n(f),y=r(214),v=r.n(y),m=r(568),w=r(726),k=r(500);const x=function(){function e(){l()(this,e),this.access=null,this.refresh=null,this.expires=null}return p()(e,[{key:"store",value:function(e){this.access=e.access,this.refresh=e.refresh,this.expires=e.expires}},{key:"expired",value:function(){return this.expires&&parseInt(Date.now()/1e3,10)>=this.expires}}]),e}();function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var g=200,E=201;function _(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t),n=e.url;if(e.parameters)for(var i=0;i<Object.keys(e.parameters).length;i++){var a=e.parameters[i];if(null===r[a]||void 0===r[a])throw new Error("URL parameter '".concat(a,"' missing!"));if(n.indexOf("{".concat(i,"}"))>=0)n=n.replace("{".concat(i,"}"),r[e.parameters[i]]);else{if(!(n.indexOf("[".concat(i,"]"))>=0))throw new Error("Malformed URL! This is an internal error: raise an issue!");!function(){var t=e.parameters[i],a=r[t].map((function(e){return"".concat(t,"=").concat(e)})).join("&");n=n.replace("[".concat(i,"]"),a)}()}delete r[e.parameters[i]]}return["GET","HEAD"].includes(e.method)?{url:n,payload:void 0}:{url:n,payload:JSON.stringify(r)}}const S=function(){function e(){l()(this,e),this.tokens=new x,this.events={otp:null,refresh:null}}var t,r,n,a,s;return p()(e,[{key:"on",value:function(e,t){if(!(e in this.events))throw new Error("Unsupported authentication event '".concat(e,"'!"));this.events[e]=t}},{key:"talk",value:(s=u()(i().mark((function e(t,r){var n,a,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={"Content-type":"application/json"},!t.authenticated){e.next=8;break}if(this.tokens.access){e.next=4;break}throw new Error("Authentication required for '".concat(t.url,"'"));case 4:if(!(0,k.e)("implicit_token_refresh")){e.next=7;break}return e.next=7,this.implicitTokenRefresh();case 7:n.Authorization=this.tokens.access;case 8:return m.Z.values().forEach((function(e){var t=o()(e,2),r=t[0],i=t[1];n[r]=i})),a=_(t,r),s=a.url,u=a.payload,c=null,e.next=13,v()({url:s,body:u,method:t.method,headers:n,callback:function(e,t){c=t}}).catch((function(){}));case 13:try{c.body=JSON.parse(c.body)}catch(e){}return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"handleRequest",value:(a=u()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.talk(t,r);case 2:if(n=e.sent,![g,E].includes(n.statusCode)){e.next=5;break}return e.abrupt("return",t.onSuccess(n));case 5:return e.abrupt("return",Promise.reject(t.onFailure(n)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"login",value:(n=u()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,"function"!=typeof this.events.otp){e.next=4;break}return e.next=4,this.handleRequest(w.Z.LOGIN,{email:t,password:r}).catch((function(){}));case 4:if(e.prev=4,e.t0=this,e.t1=w.Z.LOGIN,e.t2=t,e.t3=r,"function"!=typeof this.events.otp){e.next=15;break}return e.next=12,this.events.otp();case 12:e.t4=e.sent,e.next=16;break;case 15:e.t4=this.events.otp;case 16:return e.t5=e.t4,e.t6={email:e.t2,password:e.t3,otp:e.t5},e.next=20,e.t0.handleRequest.call(e.t0,e.t1,e.t6);case 20:n=e.sent,e.next=29;break;case 23:if(e.prev=23,e.t7=e.catch(4),console.log("login error:",e.t7),this.events.otp){e.next=28;break}throw new Error("OTP not provided!");case 28:throw e.t7;case 29:this.tokens.store(n.tokens);case 30:case"end":return e.stop()}}),e,this,[[4,23]])}))),function(e,t){return n.apply(this,arguments)})},{key:"refreshAuthentication",value:(r=u()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleRequest(w.Z.REFRESH,{refresh_token:this.tokens.refresh});case 2:if(t=e.sent,this.tokens.store(t.tokens),e.prev=4,"function"!=typeof this.events.refresh){e.next=8;break}return e.next=8,this.events.refresh(this.tokens);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new Error("Error in auth.on() handler for 'refresh': ".concat(e.t0));case 13:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return r.apply(this,arguments)})},{key:"implicitTokenRefresh",value:(t=u()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tokens.expired()){e.next=13;break}if(!this.tokens.refresh){e.next=12;break}return e.prev=2,e.next=5,this.refreshAuthentication();case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error("Unable to refresh expired token: ".concat(e.t0));case 10:e.next=13;break;case 12:throw new Error("Access token expired");case 13:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return t.apply(this,arguments)})}]),e}()},764:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(319),i=r.n(n),a=r(757),o=r.n(a),s=r(926),u=r.n(s),c=r(575),l=r.n(c),h=r(913),p=r.n(h),f=r(726),d=r(657),y=function(e){return["TSX","TSX-V"].includes(e)};function v(e,t,r){var n=e.orders.filter((function(e){if(t){var n=new d.Z({symbol:e.symbol,id:e.security_id});if(!new d.Z(t).weakEquals(n))return!1}return e.status===r}));return{orders:n,total:n.length}}const m=function(){function e(t,r){l()(this,e),this.worker=t,this.data=r}var t,r,n,a,s,c,h,m,w,k,x,b,g,E;return p()(e,[{key:"page",value:(E=u()(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.worker.handleRequest(f.Z.ORDERS_BY_PAGE,{offset:20*(r-1),accountId:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"all",value:(g=u()(o().mark((function e(t){var r,n,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.page(t,1);case 2:if(r=e.sent,!((n=Math.ceil(r.total/20))>1)){e.next=12;break}for(a=[],s=2;s<=n;s++)a.push(this.page(t,s).then((function(e){return e.orders})));return e.next=9,Promise.all(a);case 9:e.sent.forEach((function(e){var t;return(t=r.orders).push.apply(t,i()(e))})),r.total=r.orders.length;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"pending",value:(b=u()(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all(t);case 2:return n=e.sent,e.abrupt("return",v(n,r,"submitted"));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"filled",value:(x=u()(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all(t);case 2:return n=e.sent,e.abrupt("return",v(n,r,"posted"));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"cancelled",value:(k=u()(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.all(t);case 2:return n=e.sent,e.abrupt("return",v(n,r,"cancelled"));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"cancel",value:(w=u()(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,this.worker.handleRequest(f.Z.CANCEL_ORDER,{orderId:t});case 3:return e.t1=e.sent,e.abrupt("return",{order:e.t0,response:e.t1});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"cancelPending",value:(m=u()(o().mark((function e(t){var r,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pending(t);case 2:return r=e.sent,e.abrupt("return",Promise.all(r.orders.map(function(){var e=u()(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.cancel(t.order_id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"marketBuy",value:(h=u()(o().mark((function e(t,r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r,!0);case 2:return i=e.sent,e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:i.id,limit_price:new d.Z(r).crypto?void 0:i.quote.amount,quantity:n,order_type:"buy_quantity",order_sub_type:"market",time_in_force:"day",account_id:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"fractionalBuy",value:(c=u()(o().mark((function e(t,r,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.worker,e.t1=f.Z.PLACE_ORDER,e.next=4,this.data.getSecurity(r);case 4:return e.t2=e.sent.id,e.t3=n,e.t4=t,e.t5={security_id:e.t2,market_value:e.t3,order_type:"buy_value",order_sub_type:"fractional",time_in_force:"day",account_id:e.t4},e.abrupt("return",e.t0.handleRequest.call(e.t0,e.t1,e.t5));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"limitBuy",value:(s=u()(o().mark((function e(t,r,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.worker,e.t1=f.Z.PLACE_ORDER,e.next=4,this.data.getSecurity(r);case 4:return e.t2=e.sent.id,e.t3=n,e.t4=i,e.t5=t,e.t6={security_id:e.t2,limit_price:e.t3,quantity:e.t4,order_type:"buy_quantity",order_sub_type:"limit",time_in_force:"day",account_id:e.t5},e.abrupt("return",e.t0.handleRequest.call(e.t0,e.t1,e.t6));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return s.apply(this,arguments)})},{key:"stopLimitBuy",value:(a=u()(o().mark((function e(t,r,n,i,a){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r);case 2:if(s=e.sent,!y(s.stock.primary_exchange)||n===i){e.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:s.id,stop_price:n,limit_price:i,quantity:a,order_type:"buy_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:t}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i){return a.apply(this,arguments)})},{key:"marketSell",value:(n=u()(o().mark((function e(t,r,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r,!0);case 2:return i=e.sent,e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:i.id,market_value:new d.Z(r).crypto?void 0:i.quote.amount,quantity:n,order_type:"sell_quantity",order_sub_type:"market",time_in_force:"day",account_id:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"limitSell",value:(r=u()(o().mark((function e(t,r,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.worker,e.t1=f.Z.PLACE_ORDER,e.next=4,this.data.getSecurity(r);case 4:return e.t2=e.sent.id,e.t3=n,e.t4=i,e.t5=t,e.t6={security_id:e.t2,limit_price:e.t3,quantity:e.t4,order_type:"sell_quantity",order_sub_type:"limit",time_in_force:"day",account_id:e.t5},e.abrupt("return",e.t0.handleRequest.call(e.t0,e.t1,e.t6));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i){return r.apply(this,arguments)})},{key:"stopLimitSell",value:(t=u()(o().mark((function e(t,r,n,i,a){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data.getSecurity(r);case 2:if(s=e.sent,!y(s.stock.primary_exchange)||n===i){e.next=5;break}throw new Error("TSX/TSX-V securities must have an equivalent stop and limit price.");case 5:return e.abrupt("return",this.worker.handleRequest(f.Z.PLACE_ORDER,{security_id:s.id,stop_price:n,limit_price:i,quantity:a,order_type:"sell_quantity",order_sub_type:"stop_limit",time_in_force:"day",account_id:t}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r,n,i,a){return t.apply(this,arguments)})}]),e}()},889:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(757),i=r.n(n),a=r(926),o=r.n(a),s=r(575),u=r.n(s),c=r(913),l=r.n(c);const h=function(e){return{quote:function(t){return o()(i().mark((function r(){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getSecurity(t,!0);case 2:return n=r.sent,r.abrupt("return",n.quote.amount);case 4:case"end":return r.stop()}}),r)})))()}}};var p=r(657),f=r(726);const d=function(){function e(t,r){u()(this,e),this.defaultProvider=new h(r),this.providers={},this.worker=t,this.data=r}var t,r;return l()(e,[{key:"use",value:function(e,t){if("function"!=typeof t.quote)throw new Error("Invalid quote provider for ".concat(e,"!"));this.providers[e]=t}},{key:"get",value:(r=o()(i().mark((function e(t){var r,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!(n=new p.Z(t)).exchange){e.next=6;break}r=n.exchange,e.next=15;break;case 6:if(!n.crypto||!n.id){e.next=10;break}r="CC",e.next=15;break;case 10:if(!(Object.keys(this.providers).length>0)){e.next=15;break}return e.next=13,this.data.getSecurity(n,!1);case 13:a=e.sent,r=a.stock.primary_exchange;case 15:if(!(r in this.providers)){e.next=17;break}return e.abrupt("return",this.providers[r].quote(n));case 17:return e.abrupt("return",this.defaultProvider.quote(n));case 18:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"history",value:(t=o()(i().mark((function e(t,r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new p.Z(t)).id){e.next=5;break}return e.next=4,this.data.getSecurity(n);case 4:n.id=e.sent.id;case 5:return e.abrupt("return",this.worker.handleRequest(f.Z.QUOTES_HISTORY,{id:n.id,interval:r}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},666:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new T(n||[]);return a._invoke=function(e,t,r){var n=l;return function(i,a){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return I()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=_(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?f:h,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=f,r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",h="suspendedYield",p="executing",f="completed",d={};function y(){}function v(){}function m(){}var w={};w[a]=function(){return this};var k=Object.getPrototypeOf,x=k&&k(k(R([])));x&&x!==r&&n.call(x,a)&&(w=x);var b=m.prototype=y.prototype=Object.create(w);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=b.constructor=m,m.constructor=v,m[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new E(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},214:e=>{"use strict";e.exports=r},545:e=>{"use strict";e.exports=t},949:t=>{"use strict";t.exports=e}},i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={exports:{}};return n[e](t,t.exports,a),t.exports}return a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(352)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheUxpa2VUb0FycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXJyYXlXaXRoSG9sZXMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXlMaW1pdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvYXBpL2VuZHBvaW50cy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9hdXRoLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3RpY2tlci5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9vcHRpb25hbC9zZWN1cml0aWVzLWNhY2hlLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2NvcmUvY2FjaGUuanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9oZWFkZXJzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL2hlbHBlcnMvdGltZS5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9jb3JlL3Rva2Vucy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9uZXR3b3JrL2h0dHBzLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpLy4vc3JjL29yZGVycy5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9xdW90ZXMvZGVmYXVsdC5qcyIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS8uL3NyYy9xdW90ZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovL3dzdHJhZGUtYXBpL2V4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJjbG91ZHNjcmFwZXJcIixcImNvbW1vbmpzMlwiOlwiY2xvdWRzY3JhcGVyXCIsXCJhbWRcIjpcImNsb3Vkc2NyYXBlclwiLFwicm9vdFwiOlwiX1wifSIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS9leHRlcm5hbCB7XCJjb21tb25qc1wiOlwibm9kZS1mZXRjaFwiLFwiY29tbW9uanMyXCI6XCJub2RlLWZldGNoXCIsXCJhbWRcIjpcIm5vZGUtZmV0Y2hcIixcInJvb3RcIjpcIl9cIn0iLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInNvdXJjZS1tYXAtc3VwcG9ydFwiLFwiY29tbW9uanMyXCI6XCJzb3VyY2UtbWFwLXN1cHBvcnRcIixcImFtZFwiOlwic291cmNlLW1hcC1zdXBwb3J0XCIsXCJyb290XCI6XCJfXCJ9Iiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dzdHJhZGUtYXBpL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93c3RyYWRlLWFwaS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd3N0cmFkZS1hcGkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwiZ2xvYmFsIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX181NDVfXyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzIxNF9fIiwiYXJyIiwibGVuIiwibGVuZ3RoIiwiaSIsImFycjIiLCJBcnJheSIsImlzQXJyYXkiLCJhcnJheUxpa2VUb0FycmF5IiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZ2VuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9uZXh0IiwiX3Rocm93Iiwia2V5IiwiYXJnIiwiaW5mbyIsInZhbHVlIiwiZXJyb3IiLCJkb25lIiwiUHJvbWlzZSIsInRoZW4iLCJmbiIsInNlbGYiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJvYmoiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJmcm9tIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJuZXh0IiwicHVzaCIsImFycmF5V2l0aEhvbGVzIiwiaXRlcmFibGVUb0FycmF5TGltaXQiLCJ1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm5vbkl0ZXJhYmxlUmVzdCIsImFycmF5V2l0aG91dEhvbGVzIiwiaXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJvIiwibWluTGVuIiwibiIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGVzdCIsIkFDVElWSVRJRVNfTUFYX0RSQVciLCJBQ1RJVklUSUVTX1RZUEVTX0FMTCIsImh0dHBzV29ya2VyIiwid29ya2VyIiwiaGFuZGxlUmVxdWVzdCIsImVuZHBvaW50cyIsImFjY291bnRzIiwidGZzYSIsImZpbmQiLCJhY2NvdW50Iiwic3RhcnRzV2l0aCIsInJyc3AiLCJjcnlwdG8iLCJwZXJzb25hbCIsImludGVydmFsIiwiYWNjb3VudElkIiwiZmlsdGVycyIsImxpbWl0IiwiRXJyb3IiLCJ0eXBlIiwicmVzdWx0cyIsImFjY291bnRJZHMiLCJqb2luIiwiYm9va21hcmsiLCJyZXNwb25zZSIsImRlZmF1bHRFbmRwb2ludEJlaGF2aW91ciIsIm9uRmFpbHVyZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJyZWFzb24iLCJzdGF0dXNNZXNzYWdlIiwiYm9keSIsIm9uU3VjY2VzcyIsIkxPR0lOIiwibWV0aG9kIiwidXJsIiwiYXV0aGVudGljYXRlZCIsInRva2VucyIsImFjY2VzcyIsImhlYWRlcnMiLCJyZWZyZXNoIiwiZXhwaXJlcyIsInBhcnNlSW50IiwiYWNjb3VudEluZm8iLCJSRUZSRVNIIiwiQUNDT1VOVF9JRFMiLCJmaWx0ZXIiLCJtYXAiLCJpZCIsIkxJU1RfQUNDT1VOVCIsIk1FIiwiUEVSU09OIiwiSElTVE9SWV9BQ0NPVU5UIiwicGFyYW1ldGVycyIsIjAiLCIxIiwiQUNUSVZJVElFUyIsIjIiLCIzIiwiREVQT1NJVFMiLCJCQU5LX0FDQ09VTlRTIiwiRVhDSEFOR0VfUkFURVMiLCJTRUNVUklUWSIsImRhdGEiLCJFWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUyIsIlNFQ1VSSVRZX0dST1VQUyIsIlNFQ1VSSVRZX0dST1VQIiwiUVVPVEVTX0hJU1RPUlkiLCJQT1NJVElPTlMiLCJPUkRFUlNfQllfUEFHRSIsInRvdGFsIiwib3JkZXJzIiwiQ0FOQ0VMX09SREVSIiwiUExBQ0VfT1JERVIiLCJldmVudCIsImhhbmRsZXIiLCJvbiIsInN0YXRlIiwic3RvcmUiLCJlbWFpbCIsInBhc3N3b3JkIiwibG9naW4iLCJyZWZyZXNoQXV0aGVudGljYXRpb24iLCJzdXBwb3J0ZWRGZWF0dXJlcyIsImRpc2FibGVkIiwiY29uZmlnRW5hYmxlZCIsImZlYXR1cmUiLCJpbmNsdWRlcyIsImNvbmZpZyIsInN1YnN0cmluZyIsInN1cHBvcnRlZCIsImN1dCIsImluZGV4T2YiLCJzcGxpY2UiLCJleGNoYW5nZXMiLCJzeW1ib2wiLCJleGNoYW5nZSIsInNwbGl0Iiwib3RoZXIiLCJjYWNoZSIsInNpemUiLCJNYXAiLCJrZXlzIiwic2V0IiwiZ2V0Iiwic2VjdXJpdHkiLCJyZXN1bHQiLCJUaWNrZXIiLCJmb3JtYXQiLCJ1c2VyVGlja2VyIiwiZXh0ZW5zaXZlIiwidGlja2VyIiwic3RvY2siLCJzZWN1cml0eV90eXBlIiwicHJpbWFyeV9leGNoYW5nZSIsImluc2VydCIsInJlZHVjZSIsIml0ZW0iLCJleHRlcm5hbF9zZWN1cml0eV9ncm91cF9pZCIsImdyb3VwIiwiZ3JvdXBJZCIsInNlY3VyaXR5R3JvdXBzIiwiZ3JvdXBzIiwiY3VzdG9tSGVhZGVycyIsIkhlYWRlcnMiLCJhZGQiLCJhcHBlbmQiLCJyZW1vdmUiLCJjbGVhciIsImZvckVhY2giLCJoZWFkZXIiLCJ2YWx1ZXMiLCJBdXRoZW50aWNhdGlvbiIsIkFjY291bnRzIiwiT3JkZXJzIiwiRGF0YSIsIlF1b3RlcyIsIkh0dHBzV29ya2VyIiwiU2Vzc2lvbiIsImF1dGgiLCJxdW90ZXMiLCJkZWZhdWx0U2Vzc2lvbiIsIkRhdGUiLCJub3ciLCJIVFRQX09LIiwiSFRUUF9DUkVBVEVEIiwiZmluYWxpemVSZXF1ZXN0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJpbmRleCIsInBhcmFtZXRlck5hbWUiLCJyZXBsYWNlIiwicXVlcnlQYXJhbU5hbWUiLCJxdWVyeVBhcmFtIiwicGF5bG9hZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJUb2tlbnMiLCJldmVudHMiLCJvdHAiLCJpbXBsaWNpdFRva2VuUmVmcmVzaCIsIkF1dGhvcml6YXRpb24iLCJjbG91ZHNjcmFwZXIiLCJjYWxsYmFjayIsInVudXNlZCIsInJlcyIsInBhcnNlIiwidGFsayIsImNvbnNvbGUiLCJsb2ciLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlZCIsImlzQ2FuYWRpYW5TZWN1cml0eSIsImZpbHRlcmVkT3JkZXJzIiwibGlzdCIsImZpbHRlcmVkIiwib3JkZXIiLCJzZWN1cml0eV9pZCIsIndlYWtFcXVhbHMiLCJwYWdlTnVtIiwib2Zmc2V0IiwicGFnZSIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJ0YXNrcyIsImFsbCIsIm9yZGVySWQiLCJwZW5kaW5nIiwiY2FuY2VsIiwib3JkZXJfaWQiLCJxdWFudGl0eSIsImdldFNlY3VyaXR5IiwiZGV0YWlscyIsImxpbWl0X3ByaWNlIiwicXVvdGUiLCJhbW91bnQiLCJvcmRlcl90eXBlIiwib3JkZXJfc3ViX3R5cGUiLCJ0aW1lX2luX2ZvcmNlIiwiYWNjb3VudF9pZCIsIm1hcmtldFZhbHVlIiwibWFya2V0X3ZhbHVlIiwic3RvcCIsInN0b3BfcHJpY2UiLCJkZWZhdWx0UHJvdmlkZXIiLCJUcmFkZVF1b3RlcyIsInByb3ZpZGVycyIsInByb3ZpZGVyIiwicnVudGltZSIsIk9wIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRvU3RyaW5nVGFnU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiY29udGV4dCIsIkNvbnRleHQiLCJfaW52b2tlIiwiR2VuU3RhdGVTdXNwZW5kZWRTdGFydCIsIkdlblN0YXRlRXhlY3V0aW5nIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsIkdlblN0YXRlU3VzcGVuZGVkWWllbGQiLCJtYWtlSW52b2tlTWV0aG9kIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJBc3luY0l0ZXJhdG9yIiwiUHJvbWlzZUltcGwiLCJpbnZva2UiLCJfX2F3YWl0IiwidW53cmFwcGVkIiwicHJldmlvdXNQcm9taXNlIiwiY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmciLCJyZXN1bHROYW1lIiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIm9iamVjdCIsInJldmVyc2UiLCJwb3AiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJ0aHJvd24iLCJkZWxlZ2F0ZVlpZWxkIiwicmVnZW5lcmF0b3JSdW50aW1lIiwiYWNjaWRlbnRhbFN0cmljdE1vZGUiLCJGdW5jdGlvbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwicHJvcCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELEVBQVFHLFFBQVEsc0JBQXVCQSxRQUFRLGNBQWVBLFFBQVEsaUJBQzlELG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBQyxxQkFBc0IsYUFBYyxnQkFBaUJKLEdBQ25DLGlCQUFaQyxRQUNkQSxRQUFRLGVBQWlCRCxFQUFRRyxRQUFRLHNCQUF1QkEsUUFBUSxjQUFlQSxRQUFRLGlCQUUvRkosRUFBSyxlQUFpQkMsRUFBUUQsRUFBUSxFQUFHQSxFQUFRLEVBQUdBLEVBQVEsR0FSOUQsQ0FTR08sUUFBUSxTQUFTQyxFQUFrQ0MsRUFBa0NDLEdBQ3hGLE0scUJDQUFQLEVBQU9ELFFBVlAsU0FBMkJTLEVBQUtDLElBQ25CLE1BQVBBLEdBQWVBLEVBQU1ELEVBQUlFLFVBQVFELEVBQU1ELEVBQUlFLFFBRS9DLElBQUssSUFBSUMsRUFBSSxFQUFHQyxFQUFPLElBQUlDLE1BQU1KLEdBQU1FLEVBQUlGLEVBQUtFLElBQzlDQyxFQUFLRCxHQUFLSCxFQUFJRyxHQUdoQixPQUFPQyxJLFFDSFRaLEVBQU9ELFFBSlAsU0FBeUJTLEdBQ3ZCLEdBQUlLLE1BQU1DLFFBQVFOLEdBQU0sT0FBT0EsSSxjQ0RqQyxJQUFJTyxFQUFtQixFQUFRLEtBTS9CZixFQUFPRCxRQUpQLFNBQTRCUyxH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LEVBQ1pDLFFBQVNBLEdBR1MsU0FBaEJ4VCxLQUFLb0YsU0FHUHBGLEtBQUtULElBQU1jLEdBR04wUixJQVFKaFUsRUExckJLLENBaXNCaUJDLEVBQU9ELFNBR3RDLElBQ0VvWSxtQkFBcUJoRyxFQUNyQixNQUFPaUcsR0FVUEMsU0FBUyxJQUFLLHlCQUFkQSxDQUF3Q2xHLEsscUJDdnRCMUNuUyxFQUFPRCxRQUFVUSxHLHFCQ0FqQlAsRUFBT0QsUUFBVU8sRyxxQkNBakJOLEVBQU9ELFFBQVVNLElDQ2JpWSxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVelksUUFHM0MsSUFBSUMsRUFBU3NZLEVBQXlCRSxHQUFZLENBR2pEelksUUFBUyxJQU9WLE9BSEEwWSxFQUFvQkQsR0FBVXhZLEVBQVFBLEVBQU9ELFFBQVN3WSxHQUcvQ3ZZLEVBQU9ELFFDakJmLE9DRkF3WSxFQUFvQjVULEVBQUszRSxJQUN4QixJQUFJMFksRUFBUzFZLEdBQVVBLEVBQU8yWSxXQUM3QixJQUFNM1ksRUFBZ0IsUUFDdEIsSUFBTUEsRUFFUCxPQURBdVksRUFBb0JLLEVBQUVGLEVBQVEsQ0FBRUcsRUFBR0gsSUFDNUJBLEdDTFJILEVBQW9CSyxFQUFJLENBQUM3WSxFQUFTK1ksS0FDakMsSUFBSSxJQUFJeFgsS0FBT3dYLEVBQ1hQLEVBQW9COVQsRUFBRXFVLEVBQVl4WCxLQUFTaVgsRUFBb0I5VCxFQUFFMUUsRUFBU3VCLElBQzVFMEIsT0FBT0MsZUFBZWxELEVBQVN1QixFQUFLLENBQUV1QixZQUFZLEVBQU02SSxJQUFLb04sRUFBV3hYLE1DSjNFaVgsRUFBb0I5VCxFQUFJLENBQUNwQixFQUFLMFYsSUFBUy9WLE9BQU9JLFVBQVVrUCxlQUFlek4sS0FBS3hCLEVBQUswVixHSEcxRVIsRUFBb0IsTSIsImZpbGUiOiJkaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSwgcmVxdWlyZShcImNsb3Vkc2NyYXBlclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJzb3VyY2UtbWFwLXN1cHBvcnRcIiwgXCJub2RlLWZldGNoXCIsIFwiY2xvdWRzY3JhcGVyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIndzdHJhZGUtYXBpXCJdID0gZmFjdG9yeShyZXF1aXJlKFwic291cmNlLW1hcC1zdXBwb3J0XCIpLCByZXF1aXJlKFwibm9kZS1mZXRjaFwiKSwgcmVxdWlyZShcImNsb3Vkc2NyYXBlclwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wid3N0cmFkZS1hcGlcIl0gPSBmYWN0b3J5KHJvb3RbXCJfXCJdLCByb290W1wiX1wiXSwgcm9vdFtcIl9cIl0pO1xufSkoZ2xvYmFsLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NDlfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fNTQ1X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzIxNF9fKSB7XG5yZXR1cm4gIiwiZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXJyMltpXSA9IGFycltpXTtcbiAgfVxuXG4gIHJldHVybiBhcnIyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheUxpa2VUb0FycmF5OyIsImZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRoSG9sZXM7IiwidmFyIGFycmF5TGlrZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9hcnJheUxpa2VUb0FycmF5XCIpO1xuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyIsImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3luY1RvR2VuZXJhdG9yOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQ7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfbm9uSXRlcmFibGVSZXN0OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyIsInZhciBhcnJheVdpdGhIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5TGltaXQgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlMaW1pdFwiKTtcblxudmFyIHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciBub25JdGVyYWJsZVJlc3QgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVJlc3RcIik7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgbm9uSXRlcmFibGVSZXN0KCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NsaWNlZFRvQXJyYXk7IiwidmFyIGFycmF5V2l0aG91dEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRob3V0SG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XG5cbnZhciB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyIsInZhciBhcnJheUxpa2VUb0FycmF5ID0gcmVxdWlyZShcIi4vYXJyYXlMaWtlVG9BcnJheVwiKTtcblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xuICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7XG4gIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gIGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pO1xuICBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXk7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcblxuLy8gVGhlIG1heGltdW11bSBudW1iZXIgb2YgYWN0aXZpdGllcyB3ZSBjYW4gcHVsbCBpbiBvbmUgZ28uXG5jb25zdCBBQ1RJVklUSUVTX01BWF9EUkFXID0gOTk7XG4vLyBTdXBwb3J0ZWQgYWN0aXZpdHkgdHlwZXNcbmNvbnN0IEFDVElWSVRJRVNfVFlQRVNfQUxMID0gW1xuICAnc2VsbCcsXG4gICdkZXBvc2l0JyxcbiAgJ3dpdGhkcmF3YWwnLFxuICAnZGl2aWRlbmQnLFxuICAnaW5zdGl0dXRpb25hbF90cmFuc2ZlcicsXG4gICdpbnRlcm5hbF90cmFuc2ZlcicsXG4gICdyZWZ1bmQnLFxuICAncmVmZXJyYWxfYm9udXMnLFxuICAnYWZmaWxpYXRlJyxcbiAgJ2J1eScsXG5dO1xuXG5jbGFzcyBBY2NvdW50cyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFjY291bnQgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBhbiBIdHRwcyB3b3JrZXIgc3RhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gaHR0cHNXb3JrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGh0dHBzV29ya2VyKSB7XG4gICAgdGhpcy53b3JrZXIgPSBodHRwc1dvcmtlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGFjY291bnQgaWRzIG9wZW4gdW5kZXIgdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFzeW5jIGFsbCgpIHtcbiAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkFDQ09VTlRfSURTLCB7fSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGZzYTogYWNjb3VudHMuZmluZCgoYWNjb3VudCkgPT4gYWNjb3VudC5zdGFydHNXaXRoKCd0ZnNhJykpLFxuICAgICAgcnJzcDogYWNjb3VudHMuZmluZCgoYWNjb3VudCkgPT4gYWNjb3VudC5zdGFydHNXaXRoKCdycnNwJykpLFxuICAgICAgY3J5cHRvOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ25vbi1yZWdpc3RlcmVkLWNyeXB0bycpKSxcbiAgICAgIHBlcnNvbmFsOiBhY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXJ0c1dpdGgoJ25vbi1yZWdpc3RlcmVkJykgJiYgIWFjY291bnQuc3RhcnRzV2l0aCgnbm9uLXJlZ2lzdGVyZWQtY3J5cHRvJykpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGxpc3Qgb2YgZGV0YWlscyBhYm91dCB5b3VyIG9wZW4gYWNjb3VudHMsIGxpa2UgYWNjb3VudCB0eXBlLCBidXlpbmcgcG93ZXIsXG4gICAqIGN1cnJlbnQgYmFsYW5jZSwgYW5kIG1vcmUuXG4gICAqL1xuICBhc3luYyBkYXRhKCkge1xuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MSVNUX0FDQ09VTlQsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgc29tZSBzdXJmYWNlIGluZm9ybWF0aW9uIGFib3V0IHlvdSBsaWtlIHlvdXIgbmFtZSBhbmQgZW1haWwsIGFjY291bnRcbiAgICogc2lnbmF0dXJlcywgYW5kIG90aGVyIG1ldGFkYXRhLlxuICAgKi9cbiAgYXN5bmMgbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLk1FLCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgeW91IHRoYXQgeW91IHByb3ZpZGVkIG9uIHNpZ251cCwgbGlrZSByZXNpZGVudGlhbCBhbmRcbiAgICogbWFpbGluZyBhZGRyZXNzZXMsIGVtcGxveW1lbnQsIHBob25lIG51bWJlcnMsIGFuZCBzbyBvbi5cbiAgICovXG4gIGFzeW5jIHBlcnNvbigpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUEVSU09OLCB7fSk7XG4gIH1cblxuICAvKipcbiAgICogUXVlcnkgdGhlIGhpc3Rvcnkgb2YgdGhlIGFjY291bnQgd2l0aGluIGEgY2VydGFpbiB0aW1lIGludGVydmFsLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGludGVydmFsIFRoZSB0aW1lIGludGVydmFsIGZvciB0aGUgaGlzdG9yeSBxdWVyeVxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBxdWVyeVxuICAgKi9cbiAgYXN5bmMgaGlzdG9yeShpbnRlcnZhbCwgYWNjb3VudElkKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkhJU1RPUllfQUNDT1VOVCwgeyBpbnRlcnZhbCwgYWNjb3VudElkIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgYWN0aXZpdGllcyBvbiB5b3VyIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LiBZb3UgY2FuIGxpbWl0IG51bWJlciBvZiBhY3Rpdml0aWVzXG4gICAqIHRvIGZldGNoIG9yIHJlZmluZSB3aGF0IGFjdGl2aXRpZXMgYXJlIGZldGNoZWQgYmFzZWQgb24gYWN0aXZpdHkgdHlwZSAoZS5nLiwgYnV5LCBzZWxsKSxcbiAgICogYWNjb3VudCAoZS5nLiwgdGZzYSwgcnJzcCkuXG4gICAqL1xuICBhc3luYyBhY3Rpdml0aWVzKGZpbHRlcnMgPSB7fSkge1xuICAgIC8vIFRoZSBtYXhpbXVtIGRyYXcgcGVyIEFQSSBjYWxsIGlzIDk5LiBJZiBpdCdzIGhpZ2hlciwgd2UgbXVzdCBhYm9ydC5cbiAgICBpZiAoZmlsdGVycz8ubGltaXQgJiYgZmlsdGVycy5saW1pdCA+IEFDVElWSVRJRVNfTUFYX0RSQVcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmlsdGVycy5saW1pdCBjYW4gbm90IGV4Y2VlZCA5OSEgTGVhdmUgZmlsdGVycy5saW1pdCB1bmRlZmluZWQgaWYgeW91IHdhbnQgdG8gcmV0cmlldmUgYWxsLicpO1xuICAgIH1cblxuICAgIC8vIFRlbGwgdGhlIHVzZXIgdGhhdCBmaWx0ZXIuYWNjb3VudHMgbXVzdCBiZSBhbiBlcnJvclxuICAgIGlmIChmaWx0ZXJzPy5hY2NvdW50cyAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLmFjY291bnRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaWx0ZXJzLmFjY291bnRzIG11c3QgYmUgYW4gYXJyYXkhJyk7XG4gICAgfVxuXG4gICAgLy8gVGVsbCB0aGUgdXNlciB0aGF0IGZpbHRlci50eXBlIG11c3QgYmUgYW4gZXJyb3JcbiAgICBpZiAoZmlsdGVycz8udHlwZSAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJzLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpbHRlcnMudHlwZSBtdXN0IGJlIGFuIGFycmF5IScpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICAgIC8vIERyYXcgdGhlIGZpcnN0IHNldCBvZiBhY3Rpdml0aWVzXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgbGltaXQ6IGZpbHRlcnM/LmxpbWl0ID8/IEFDVElWSVRJRVNfTUFYX0RSQVcsXG4gICAgICBhY2NvdW50SWRzOiBmaWx0ZXJzPy5hY2NvdW50cz8uam9pbigpID8/ICcnLFxuICAgICAgYm9va21hcms6ICcnLFxuICAgICAgdHlwZTogZmlsdGVycz8udHlwZSA/PyBBQ1RJVklUSUVTX1RZUEVTX0FMTCxcbiAgICB9KTtcbiAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG5cbiAgICAvKlxuICAgICAqIFRvIGdldCBhbGwgYWN0aXZpdGllcywgd2Ugd2lsbCBoYXZlIHRvIGRyYXcgdGhlIG1heGltdW0gbnVtYmVyXG4gICAgICogb2YgYWN0aXZpdGllcyBwZXIgQVBJIGNhbGwgdW50aWwgd2UgYXJlIGRvbmUgKGkuZS4sIHdoZW4gd2VcbiAgICAgKiByZWNlaXZlIGEgbnVtYmVyIG9mIGFjdGl2aXRpZXMgbGVzcyB0aGFuIHRoZSBtYXhpbXVtIHBlciBkcmF3KVxuICAgICAqL1xuICAgIGlmICghZmlsdGVycz8ubGltaXQpIHtcbiAgICAgIC8qXG4gICAgICAgKiBUaGUgbm8tYXdhaXQtaW4tbG9vcCBydWxlIGlzIGJlaW5nIGRpc2FibGVkIGZvciB0aGlzIGNhc2UgYmVjYXVzZVxuICAgICAgICogZXZlcnkgbG9vcCBmZWVkcyBiYWNrIGludG8gdGhlIG5leHQgb25lIHdpdGggdGhlIGJvb2ttYXJrIChpLmUuLCB0aGV5XG4gICAgICAgKiBhcmUgbm90IGluZGVwZW5kZW50IGFuZCBtdXN0IHJ1biBzZXF1ZW50aWFsbHkpLlxuICAgICAgICovXG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1hd2FpdC1pbi1sb29wICovXG4gICAgICB3aGlsZSAocmVzdWx0cy5sZW5ndGggJSBBQ1RJVklUSUVTX01BWF9EUkFXID09PSAwKSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQUNUSVZJVElFUywge1xuICAgICAgICAgIGxpbWl0OiBBQ1RJVklUSUVTX01BWF9EUkFXLFxuICAgICAgICAgIGFjY291bnRJZHM6IGZpbHRlcnM/LmFjY291bnRzPy5qb2luKCkgPz8gJycsXG4gICAgICAgICAgYm9va21hcms6IHJlc3BvbnNlLmJvb2ttYXJrLFxuICAgICAgICAgIHR5cGU6IGZpbHRlcnM/LnR5cGUgPz8gQUNUSVZJVElFU19UWVBFU19BTEwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVzY2FwZSB0aGUgbG9vcCBpZiB0aGUgcmV0dXJuZWQgcmVzdWx0cyBpcyBlbXB0eS4gVGhpcyBtZWFucyB3ZSBoYXZlIHJlYWNoZWQgdGhlIGVuZC5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnB1c2goLi4ucmVzcG9uc2UucmVzdWx0cyk7XG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIGJhbmsgYWNjb3VudHMgbGlua2VkIHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIGFzeW5jIGdldEJhbmtBY2NvdW50cygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuQkFOS19BQ0NPVU5UUywge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdyYWIgYWxsIGRlcG9zaXQgcmVjb3JkcyBvbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnQuXG4gICAqL1xuICBhc3luYyBkZXBvc2l0cygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuREVQT1NJVFMsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyBhbGwgcG9zaXRpb25zIGluIHRoZSBzcGVjaWZpZWQgdHJhZGluZyBhY2NvdW50IHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBhc3luYyBwb3NpdGlvbnMoYWNjb3VudElkKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBPU0lUSU9OUywgeyBhY2NvdW50SWQgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudHM7XG4iLCJjb25zdCBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIgPSB7XG5cbiAgLy8gRGVmYXVsdCBmYWlsdXJlIG1ldGhvZCBmb3IgYWxsIGVuZHBvaW50IGNhbGxzXG4gIG9uRmFpbHVyZTogKHJlc3BvbnNlKSA9PiAoe1xuICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzQ29kZSxcbiAgICByZWFzb246IHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UsXG4gICAgYm9keTogcmVzcG9uc2UuYm9keSxcbiAgfSksXG5cbiAgLy8gRGVmYXVsdCBzdWNjZXNzIG1ldGhvZCBmb3IgYWxsIGVuZHBvaW50IGNhbGxzXG4gIG9uU3VjY2VzczogKHJlc3BvbnNlKSA9PiByZXNwb25zZS5ib2R5LFxufTtcblxuY29uc3QgV2VhbHRoc2ltcGxlVHJhZGVFbmRwb2ludHMgPSB7XG5cbiAgLypcbiAgICogVGhlIExPR0lOIGVuZHBvaW50IGludGlhbGl6ZXMgYSBuZXcgc2Vzc2lvbiBmb3IgdGhlIGdpdmVuIGVtYWlsIGFuZFxuICAgKiBwYXNzd29yZCBzZXQuIElmIHRoZSBsb2dpbiBpcyBzdWNjZXNzZnVsLCBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zXG4gICAqIGFyZSByZXR1cm5lZCBpbiB0aGUgaGVhZGVycy4gVGhlIGFjY2VzcyB0b2tlbiBpcyB0aGUga2V5IGZvciBpbnZva2luZ1xuICAgKiBhbGwgb3RoZXIgZW5kIHBvaW50cy5cbiAgICovXG4gIExPR0lOOiB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vYXV0aC9sb2dpbicsXG4gICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgb25TdWNjZXNzOiAocmVzcG9uc2UpID0+ICh7XG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzOiByZXNwb25zZS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddLFxuICAgICAgICByZWZyZXNoOiByZXNwb25zZS5oZWFkZXJzWyd4LXJlZnJlc2gtdG9rZW4nXSxcbiAgICAgICAgZXhwaXJlczogcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4tZXhwaXJlcyddLCAxMCksXG4gICAgICB9LFxuXG4gICAgICBhY2NvdW50SW5mbzogcmVzcG9uc2UuYm9keSxcbiAgICB9KSxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR2VuZXJhdGVzIGEgbmV3IHNldCBvZiBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLlxuICAgKi9cbiAgUkVGUkVTSDoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2F1dGgvcmVmcmVzaCcsXG4gICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgb25TdWNjZXNzOiAocmVzcG9uc2UpID0+ICh7XG4gICAgICB0b2tlbnM6IHtcbiAgICAgICAgYWNjZXNzOiByZXNwb25zZS5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddLFxuICAgICAgICByZWZyZXNoOiByZXNwb25zZS5oZWFkZXJzWyd4LXJlZnJlc2gtdG9rZW4nXSxcbiAgICAgICAgZXhwaXJlczogcGFyc2VJbnQocmVzcG9uc2UuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4tZXhwaXJlcyddLCAxMCksXG4gICAgICB9LFxuICAgIH0pLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBHcmFicyBhbGwgYWNjb3VudCBpZHMgaW4gdGhpcyBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIEFDQ09VTlRfSURTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2xpc3QnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5ib2R5O1xuXG4gICAgICAvLyBDb2xsZWN0IGFsbCBhY2NvdW50IGlkcyByZWdpc3RlcmVkIHVuZGVyIHRoaXMgV2VhbHRoc2ltcGxlIFRyYWRlIEFjY291bnRcbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHMuZmlsdGVyKChhY2NvdW50KSA9PiBhY2NvdW50LnN0YXR1cyA9PT0gJ29wZW4nKS5tYXAoKGFjY291bnQpID0+IGFjY291bnQuaWQpO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBMSVNUX0FDQ09VTlQgZW5kcG9pbnQgcmV0cmlldmVzIGdlbmVyYWwgbWV0YWRhdGEgb2YgdGhlXG4gICAqIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50LCBpbmNsdWRpbmcgYmFsYW5jZXMsIGFjY291bnQgaWQsIGFuZFxuICAgKiBtb3JlLlxuICAgKi9cbiAgTElTVF9BQ0NPVU5UOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9hY2NvdW50L2xpc3QnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgb25TdWNjZXNzOiAocmVzcG9uc2UpID0+IHJlc3BvbnNlLmJvZHkucmVzdWx0cyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogVGhlIE1FIGVuZHBvaW50IHJldHJpZXZlcyBzb21lIHN1cmZhY2UgaW5mb3JtYXRpb24gYWJvdXQgeW91IGxpa2VcbiAgICogeW91ciBuYW1lIGFuZCBlbWFpbC5cbiAgICovXG4gIE1FOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9tZScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBQRVJTT04gZW5kcG9pbnQgcmV0cmlldmVzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHlvdSB0aGF0XG4gICAqIHlvdSBwcm92aWRlZCBvbiBzaWdudXAsIGxpa2UgcmVzaWRlbnRpYWwgYW5kIG1haWxpbmcgYWRkcmVzc2VzLFxuICAgKiBlbXBsb3ltZW50LCBwaG9uZSBudW1iZXJzLCBhbmQgc28gb24uXG4gICAqL1xuICBQRVJTT046IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3BlcnNvbicsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIFRoZSBISVNUT1JZX0FDQ09VTlQgZW5kcG9pbnQgcHJvdmlkZXMgaGlzdG9yaWNhbCBzbmFwc2hvdHMgb2YgdGhlXG4gICAqIFdlYWx0aHNpbXBsZSBhY2NvdW50IGZvciBhIHNwZWNpZmllZCB0aW1lZnJhbWUuXG4gICAqL1xuICBISVNUT1JZX0FDQ09VTlQ6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvaGlzdG9yeS97MH0/YWNjb3VudF9pZD17MX0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2ludGVydmFsJyxcbiAgICAgIDE6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBQcm92aWRlcyB0aGUgbW9zdCByZWNlbnQgMjAgYWN0aXZpdGllcyAoZGVwb3NpdHMsIGRpdmlkZW5kcywgb3JkZXJzLCBldGMpIG9uIHRoZSBXZWFsdGhzaW1wbGVcbiAgICogVHJhZGUgYWNjb3VudC5cbiAgICovXG4gIEFDVElWSVRJRVM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvYWN0aXZpdGllcz9saW1pdD17MH0mYWNjb3VudF9pZHM9ezF9JlsyXSZib29rbWFyaz17M30nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2xpbWl0JyxcbiAgICAgIDE6ICdhY2NvdW50SWRzJyxcbiAgICAgIDI6ICd0eXBlJyxcbiAgICAgIDM6ICdib29rbWFyaycsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEFsbCBkZXBvc2l0cyB1bmRlciB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICovXG4gIERFUE9TSVRTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9kZXBvc2l0cycsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IChyZXNwb25zZSkgPT4gcmVzcG9uc2UuYm9keS5yZXN1bHRzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBBbGwgbGlua2VkIGJhbmsgYWNjb3VudHMgdW5kZXIgdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBCQU5LX0FDQ09VTlRTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9iYW5rLWFjY291bnRzJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIG9uU3VjY2VzczogKHJlc3BvbnNlKSA9PiByZXNwb25zZS5ib2R5LnJlc3VsdHMsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEN1cnJlbnQgV2VhbHRoc2ltcGxlIFRyYWRlIFVTRC9DQUQgZXhjaGFuZ2UgcmF0ZXNcbiAgICovXG4gIEVYQ0hBTkdFX1JBVEVTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9mb3JleCcsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEdyYWJzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzZWN1cml0eSByZXNlbWJsZWQgYnkgdGhlIHRpY2tlci5cbiAgICovXG4gIFNFQ1VSSVRZOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzP3F1ZXJ5PXswfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAndGlja2VyJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuYm9keTtcblxuICAgICAgaWYgKGRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZWN1cml0eSBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YS5yZXN1bHRzO1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEZldGNoZXMgZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBzZWN1cml0eSB1c2luZyBpdHMgdW5pcXVlXG4gICAqIHNlY3VyaXR5IGlkZW50aWZpZXIuIE1hcmtldCBxdW90ZSwgYmlkIGFuZCBhc2sgc2l6ZSwgYW5kIG90aGVyIGluZm9ybWF0aW9uXG4gICAqIGFyZSByZXR1cm5lZC5cbiAgICovXG4gIEVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzL3swfScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAwOiAnaWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBQcm92aWRlcyBhIGNvbXByZWhlbnNpdmUgbGlzdCBvbiBhbGwgc2VjdXJpdHkgZ3JvdXBzIGF2YWlsYWJsZVxuICAgKiBvbiB0aGUgcGxhdGZvcm0uXG4gICAqL1xuICBTRUNVUklUWV9HUk9VUFM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL3NlY3VyaXR5LWdyb3Vwcz9saW1pdD05OScsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IChyZXNwb25zZSkgPT4gcmVzcG9uc2UuYm9keS5yZXN1bHRzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBSZXRyaWV2ZXMgYWxsIHNlY3VyaXRpZWlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc2VjdXJpdHkgZ3JvdXAgaWQuXG4gICAqL1xuICBTRUNVUklUWV9HUk9VUDoge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgdXJsOiAnaHR0cHM6Ly90cmFkZS1zZXJ2aWNlLndlYWx0aHNpbXBsZS5jb20vc2VjdXJpdHktZ3JvdXBzL3swfS9zZWN1cml0aWVzJyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdncm91cElkJyxcbiAgICB9LFxuICAgIG9uU3VjY2VzczogKHJlc3BvbnNlKSA9PiByZXNwb25zZS5ib2R5LnJlc3VsdHMsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIEZldGNoZXMgaGlzdG9yaWNhbCBxdW90ZXMgZm9yIGEgc2VjdXJpdHkgaW4gdGhlIHNwZWNpZmllZCBpbnRlcnZhbC5cbiAgICovXG4gIFFVT1RFU19ISVNUT1JZOiB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICB1cmw6ICdodHRwczovL3RyYWRlLXNlcnZpY2Uud2VhbHRoc2ltcGxlLmNvbS9zZWN1cml0aWVzL3swfS9oaXN0b3JpY2FsX3F1b3Rlcy97MX0/bWljPVhOQVMnLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ2lkJyxcbiAgICAgIDE6ICdpbnRlcnZhbCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIExpc3RzIGFsbCBwb3NpdGlvbnMgdW5kZXIgYSB0cmFkaW5nIGFjY291bnQuXG4gICAqL1xuICBQT1NJVElPTlM6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL2FjY291bnQvcG9zaXRpb25zP2FjY291bnRfaWQ9ezB9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdhY2NvdW50SWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiAocmVzcG9uc2UpID0+IHJlc3BvbnNlLmJvZHkucmVzdWx0cyxcbiAgICBvbkZhaWx1cmU6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vbkZhaWx1cmUsXG4gIH0sXG5cbiAgLypcbiAgICogR3JhYiBhIHBhZ2Ugb2Ygb3JkZXJzICgyMCBvcmRlcnMpLlxuICAgKi9cbiAgT1JERVJTX0JZX1BBR0U6IHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL29yZGVycz9vZmZzZXQ9ezB9JmFjY291bnRfaWQ9ezF9JyxcbiAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxuICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgIDA6ICdvZmZzZXQnLFxuICAgICAgMTogJ2FjY291bnRJZCcsXG4gICAgfSxcbiAgICBvblN1Y2Nlc3M6IChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbDogZGF0YS50b3RhbCxcbiAgICAgICAgb3JkZXJzOiBkYXRhLnJlc3VsdHMsXG4gICAgICB9O1xuICAgIH0sXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxuXG4gIC8qXG4gICAqIENhbmNlbHMgYSBzcGVjaWZpYyBvcmRlciBieSBpdHMgaWQuXG4gICAqL1xuICBDQU5DRUxfT1JERVI6IHtcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL29yZGVycy97MH0nLFxuICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXG4gICAgcGFyYW1ldGVyczoge1xuICAgICAgMDogJ29yZGVySWQnLFxuICAgIH0sXG4gICAgb25TdWNjZXNzOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25TdWNjZXNzLFxuICAgIG9uRmFpbHVyZTogZGVmYXVsdEVuZHBvaW50QmVoYXZpb3VyLm9uRmFpbHVyZSxcbiAgfSxcblxuICAvKlxuICAgKiBQbGFjZXMgYW4gb3JkZXIgZm9yIGEgc2VjdXJpdHkuXG4gICAqL1xuICBQTEFDRV9PUkRFUjoge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIHVybDogJ2h0dHBzOi8vdHJhZGUtc2VydmljZS53ZWFsdGhzaW1wbGUuY29tL29yZGVycycsXG4gICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcbiAgICBvblN1Y2Nlc3M6IGRlZmF1bHRFbmRwb2ludEJlaGF2aW91ci5vblN1Y2Nlc3MsXG4gICAgb25GYWlsdXJlOiBkZWZhdWx0RW5kcG9pbnRCZWhhdmlvdXIub25GYWlsdXJlLFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2VhbHRoc2ltcGxlVHJhZGVFbmRwb2ludHM7XG4iLCJjbGFzcyBBdXRoZW50aWNhdGlvbiB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBBdXRoZW50aWNhdGlvbiBjbGFzc3MgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgKiBwcm92aWRlZCB0b2tlbnMgYW5kIGh0dHBzIHdvcmtlci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBodHRwc1dvcmtlclxuICAgKi9cbiAgY29uc3RydWN0b3IoaHR0cHNXb3JrZXIpIHtcbiAgICB0aGlzLndvcmtlciA9IGh0dHBzV29ya2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gcnVuIG9uIGEgY2VydGFpbiBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBldmVudCBUaGUgdHJpZ2dlciBmb3IgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Kn0gaGFuZGxlciBldmVudCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICovXG4gIG9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgdGhpcy53b3JrZXIub24oZXZlbnQsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGF1dGggbW9kdWxlIHdpdGggYW4gZXhpc3Rpbmcgc3RhdGUgb2YgdG9rZW5zLlxuICAgKiBUaGUgc3RhdGUgcHJvdmlkZWQgc2hvdWxkIGNvbnRhaW4gYWNjZXNzLCByZWZyZXNoLCBhbmQgZXhwaXJlcyBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHN0YXRlIFByZS1leGlzdGluZyBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgKi9cbiAgdXNlKHN0YXRlKSB7XG4gICAgdGhpcy53b3JrZXIudG9rZW5zLnN0b3JlKHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTbmFwc2hvdCBvZiB0aGUgY3VycmVudCBhdXRoZW50aWNhdGlvbiB0b2tlbnMuXG4gICAqL1xuICB0b2tlbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjY2VzczogdGhpcy53b3JrZXIudG9rZW5zLmFjY2VzcyxcbiAgICAgIHJlZnJlc2g6IHRoaXMud29ya2VyLnRva2Vucy5yZWZyZXNoLFxuICAgICAgZXhwaXJlczogdGhpcy53b3JrZXIudG9rZW5zLmV4cGlyZXMsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byBlc3RhYmxpc2ggYSBzZXNzaW9uIGZvciB0aGUgcHJvdmlkZWQgZW1haWwgYW5kIHBhc3N3b3JkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGVtYWlsIGVtYWlsZWQgcmVnaXN0ZXJlZCBieSB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFjY291bnRcbiAgICogQHBhcmFtIHsqfSBwYXNzd29yZCBUaGUgcGFzc3dvcmQgb2YgdGhlIGFjY291bnRcbiAgICovXG4gIGFzeW5jIGxvZ2luKGVtYWlsLCBwYXNzd29yZCkge1xuICAgIHJldHVybiB0aGlzLndvcmtlci5sb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIG5ldyBzZXQgb2YgYWNjZXNzIGFuZCByZWZyZXNoIHRva2Vucy5cbiAgICovXG4gIGFzeW5jIHJlZnJlc2goKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLnJlZnJlc2hBdXRoZW50aWNhdGlvbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGhlbnRpY2F0aW9uO1xuIiwiLy8gQ29uZGl0aW9uYWwgZmVhdHVyZXMgdGhhdCBhcmUgY3VycmVudGx5IHN1cHBvcnRlZCBieSB3c3RyYWRlLWFwaVxuY29uc3Qgc3VwcG9ydGVkRmVhdHVyZXMgPSBbJ2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnLCAnc2VjdXJpdGllc19jYWNoZSddO1xuY29uc3Qgc3VwcG9ydGVkID0gKGZlYXR1cmUpID0+IHtcbiAgaWYgKCFmZWF0dXJlPy5zdGFydHNXaXRoKCdub18nKSkge1xuICAgIHJldHVybiBzdXBwb3J0ZWRGZWF0dXJlcy5pbmNsdWRlcyhmZWF0dXJlKTtcbiAgfVxuXG4gIHJldHVybiBzdXBwb3J0ZWRGZWF0dXJlcy5pbmNsdWRlcyhmZWF0dXJlLnN1YnN0cmluZygnbm9fJy5sZW5ndGgpKTtcbn07XG5cbi8vIEhvbGRzIG9wdGlvbmFsIGZlYXR1cmVzIHRoYXQgaGF2ZSBiZWVuIGRpc2FibGVkLlxuY29uc3QgZGlzYWJsZWQgPSBbJ3NlY3VyaXRpZXNfY2FjaGUnXTtcbmV4cG9ydCBjb25zdCBjb25maWdFbmFibGVkID0gKGZlYXR1cmUpID0+ICFkaXNhYmxlZC5pbmNsdWRlcyhmZWF0dXJlKTtcblxuLyoqXG4gKiBFbmFibGUgb3IgZGlzYWJsZSBhbiBvcHRpb25hbCBmZWF0dXJlIHdpdGhpbiB3c3RyYWRlLWFwaS5cbiAqXG4gKiBFeGFtcGxlczpcbiAqIC0tLVxuICogY29uZmlnKCdpbXBsaWNpdF90b2tlbl9yZWZyZXNoJylcbiAqIEVuYWJsZXMgaW1wbGljaXQgcmVmcmVzaGluZyBvZiB0b2tlbnMuXG4gKlxuICogY29uZmlnKCdub19pbXBsaWNpdF90b2tlbl9yZWZyZXNoJylcbiAqIERpc2FibGVzIGltcGxpY2l0IHJlZnJlc2hpbmcgb2YgdG9rZW5zLlxuICpcbiAqIEBwYXJhbSB7Kn0gZmVhdHVyZSBUaGUgc3RyaW5nIGlkZW50aWZpZXIgZm9yIHRoZSBmZWF0dXJlLCBzdGFydGluZyB3aXRoIFwibm9fXCIgaWZcbiAqICAgICAgICAgICAgICAgICAgICB5b3Ugd2lzaCB0byBkaXNhYmxlIGl0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb25maWcoZmVhdHVyZSkge1xuICBpZiAoIXN1cHBvcnRlZChmZWF0dXJlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJyR7ZmVhdHVyZX0nIGlzIG5vdCBzdXBwb3J0ZWQhYCk7XG4gIH1cblxuICBpZiAoZmVhdHVyZT8uc3RhcnRzV2l0aCgnbm9fJykpIHtcbiAgICBjb25zdCBjdXQgPSBmZWF0dXJlLnN1YnN0cmluZyhmZWF0dXJlLmluZGV4T2YoJ18nKSArIDEpO1xuXG4gICAgLy8gV2Ugd2lsbCBvbmx5IGFwcGVuZCB0aGlzIGlmIGl0IGlzbid0IGFscmVhZHkgaW4gdGhlcmUuXG4gICAgaWYgKGNvbmZpZ0VuYWJsZWQoY3V0KSkge1xuICAgICAgZGlzYWJsZWQucHVzaChjdXQpO1xuICAgIH1cblxuICAvLyBPbmx5IGRlbGV0ZSB0aGUgZmVhdHVyZSBpZiBpdCdzIGFscmVhZHkgZGlzYWJsZWQuXG4gIH0gZWxzZSBpZiAoIWNvbmZpZ0VuYWJsZWQoZmVhdHVyZSkpIHtcbiAgICBkaXNhYmxlZC5zcGxpY2UoZGlzYWJsZWQuaW5kZXhPZihmZWF0dXJlKSwgMSk7XG4gIH1cbn1cbiIsIi8vIEV4Y2hhbmdlcyBzdXBwb3J0ZWQgYnkgV2VhbHRoc2ltcGxlIFRyYWRlXG4vLyAnQ0MnIGlzIG5vdCBhbiBleGNoYW5nZTsgaXQgc3RhbmRzIGZvciBDcnlwdG8gY3VycmVuY3kgYW5kXG4vLyBpdCBhbGxvd3MgdXMgdG8gZGlzdGluZ3Vpc2ggaXQgZnJvbSBjb252ZW50aW9uYWwgc2VjdXJpdGllcy5cbmNvbnN0IGV4Y2hhbmdlcyA9IFsnTkFTREFRJywgJ05ZU0UnLCAnVFNYJywgJ1RTWC1WJywgJ0FFUVVJVEFTIE5FTyBFWENIQU5HRScsICdDQyddO1xuXG4vKipcbiAqIFRpY2tlciBwcm92aWRlcyBhIGxvZ2ljYWwgZW5jYXBzdWxhdGlvbiBmb3IgdGhlIGFsbG93ZWQgZm9ybXNcbiAqIG9mIGEgc2VjdXJpdHkgdGlja2VyIHdpdGhpbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEl0IHByb3ZpZGVzIHZhbGlkYXRpb24gb2YgdGhlIGZvcm1hdCBvZiB0aGUgdGlja2VyLCBhbmQgdGhlXG4gKiB2YWx1ZSBvZiB0aGUgZXhjaGFuZ2UsIGlmIHByb3ZpZGVkLlxuICpcbiAqIFRpY2tlcnMgbWF5IGJlIHNwZWNpZmllZCBhcyB0d28gZGF0YSB0eXBlczpcbiAqXG4gKiAtIHN0cmluZzogVGhlIHRpY2tlciBtYXkgYmUgYSBzaW1wbGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHN5bWJvbCwgb3IgYSBjb21iaW5hdGlvbiBvZlxuICogdGhlIHN5bWJvbCBhbmQgZXhjaGFuZ2Ugc2VwYXJhdGVkIGJ5IGEgY29sb24uXG4gKiAtIG9iamVjdDogVGhlIHRpY2tlciBtYXkgYmUgYW4gb2JqZWN0IHdpdGggc3ltYm9sLCBleGNoYW5nZSwgb3IgaWQgcHJvcGVydGllcy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiBcIkFBUExcIlxuICogXCJVQkVSOk5ZU0VcIlxuICogeyBzeW1ib2w6IFwiQUFQTFwiIH1cbiAqIHsgc3ltYm9sOiBcIlVCRVJcIiwgZXhjaGFuZ2U6IFwiTllTRVwiIH1cbiAqIHsgaWQ6IFwic2VjLXMtNzZhNzE1NTI0MmU4NDc3ODgwY2JiNDMyNjkyMzVjYjZcIiB9XG4gKi9cbmNsYXNzIFRpY2tlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSB0aWNrZXIgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBzZWN1cml0eSB0aWNrZXIgdmFsdWUsIHByb3ZpZGVkIGFzIGEgc3RyaW5nIG9yIGFuIG9iamVjdCB3aXRoIHN5bWJvbCxcbiAgICogZXhjaGFuZ2UsIG9yIGlkLlxuICAgKi9cbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICB0aGlzLnN5bWJvbCA9IG51bGw7XG4gICAgdGhpcy5leGNoYW5nZSA9IG51bGw7XG4gICAgdGhpcy5pZCA9IG51bGw7XG4gICAgdGhpcy5jcnlwdG8gPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEVtcHR5IHRpY2tlcnMgYXJlIG5vdCBhbGxvd2VkXG4gICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgdGlja2VyJyk7XG4gICAgICB9XG5cbiAgICAgIFt0aGlzLnN5bWJvbCwgdGhpcy5leGNoYW5nZV0gPSB2YWx1ZS5zcGxpdCgnOicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBZb3UgbmVlZCBhdCBsZWFzdCBhIHN5bWJvbCBvciBpZCB0byBmb3JtIGEgdGlja2VyLlxuICAgICAgaWYgKCF2YWx1ZS5zeW1ib2wgJiYgIXZhbHVlLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0aWNrZXIgJyR7dmFsdWV9J2ApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN5bWJvbCA9IHZhbHVlLnN5bWJvbCB8fCBudWxsO1xuICAgICAgdGhpcy5leGNoYW5nZSA9IHZhbHVlLmV4Y2hhbmdlIHx8IG51bGw7XG4gICAgICB0aGlzLmlkID0gdmFsdWUuaWQgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvLyBXZWFsdGhzaW1wbGUgVHJhZGUgZG9lc24ndCBoYXZlIGEgc2hvcnQgZXhjaGFuZ2UgaWQgKCdORU8nKSBmb3JcbiAgICAvLyBBRVFVSVRBUyBORU8gRVhDSEFOR0UgZm9yIHNvbWUgcmVhc29uLi4uXG4gICAgLy8gV2UgaGF2ZSB0byBtYXAgaXQgdG8gdGhlIGZ1bGwgbmFtZSBmb3IgY29tcGFyaXNvbnMgdG8gd29yay5cbiAgICBpZiAodGhpcy5leGNoYW5nZSA9PT0gJ05FTycpIHtcbiAgICAgIHRoaXMuZXhjaGFuZ2UgPSAnQUVRVUlUQVMgTkVPIEVYQ0hBTkdFJztcbiAgICB9XG5cbiAgICAvLyBHdWFyYW50ZWUgdGhhdCB0aGUgZXhjaGFuZ2UgaXMgdmFsaWQgaWYgbm90IG51bGxcbiAgICBpZiAodGhpcy5leGNoYW5nZSAmJiAhZXhjaGFuZ2VzLmluY2x1ZGVzKHRoaXMuZXhjaGFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZXhjaGFuZ2UgJyR7dGhpcy5leGNoYW5nZX0nIWApO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgY3J5cHRvIHByb3BlcnR5IHRvIHRydWUgdG8gdHJlYXQgdGhpcyBzZWN1cml0eSBhcyBjcnlwdG9jdXJyZW5jeVxuICAgIGlmICh0aGlzLmV4Y2hhbmdlID09PSAnQ0MnIHx8IHRoaXMuaWQ/LnN0YXJ0c1dpdGgoJ3NlYy16JykpIHtcbiAgICAgIHRoaXMuY3J5cHRvID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVkdWNlcyB0aGUgdGlja2VyIG9iamVjdCB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICovXG4gIGZvcm1hdCgpIHtcbiAgICBpZiAodGhpcy5pZCkge1xuICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgLy8gV2UgbXVzdCByZXRyYW5zbGF0ZSB0aGUgZnVsbCBuYW1lIG9mIHRoZSBORU8gZXhjaGFuZ2UgYmFjayB0byBORU9cbiAgICBpZiAodGhpcy5leGNoYW5nZSA9PT0gJ0FFUVVJVEFTIE5FTyBFWENIQU5HRScpIHtcbiAgICAgIHJldHVybiBgJHt0aGlzLnN5bWJvbH06TkVPYDtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7dGhpcy5zeW1ib2x9JHt0aGlzLmV4Y2hhbmdlID8gYDoke3RoaXMuZXhjaGFuZ2V9YCA6ICcnfWA7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZXMgc3ltYm9sIG9yIGlkIHdpdGggYW5vdGhlciB0aWNrZXIuIFRoaXMgaXMgd2VhayBiZWNhdXNlXG4gICAqIGV4Y2hhbmdlIGlzIG5vdCBjb21wYXJlZCBoZXJlLCBhbGxvd2luZyBmb3IgZmFsc2UgcG9zaXRpdmVzXG4gICAqIG9mIHN5bWJvbHMgb24gZGlmZmVyZW50IGV4Y2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBvdGhlciBUaWNrZXIgdG8gY29tcGFyZSB1cyB3aXRoXG4gICAqL1xuICB3ZWFrRXF1YWxzKG90aGVyKSB7XG4gICAgaWYgKHRoaXMuaWQgJiYgdGhpcy5pZCA9PT0gb3RoZXIuaWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN5bWJvbCAmJiB0aGlzLnN5bWJvbCA9PT0gb3RoZXIuc3ltYm9sICYmIHRoaXMuY3J5cHRvID09PSBvdGhlci5jcnlwdG8pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaWNrZXI7XG4iLCJpbXBvcnQgQVBJQ2FjaGUgZnJvbSAnLi4vY29yZS9jYWNoZSc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcblxuY29uc3QgY2FjaGUgPSBuZXcgQVBJQ2FjaGUoMTApO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgICAqIFF1ZXJ5IHRoZSBjYWNoZSBmb3IgdGhlIHNlY3VyaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzZWN1cml0eVxuICAgICAqL1xuICBnZXQoc2VjdXJpdHkpIHtcbiAgICAvLyBNdXN0IGRpZ2VzdCB0aGUgc2VjdXJpdHkgaW50byB0aGUgc3RhbmRhcmQgZm9ybWF0XG4gICAgY29uc3QgcmVzdWx0ID0gY2FjaGUuZ2V0KG5ldyBUaWNrZXIoc2VjdXJpdHkpLmZvcm1hdCgpKTtcblxuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICAvKipcbiAgICAgKiBSZW1lbWJlciB0aGUgc2VjdXJpdHkgZm9yIGEgZnV0dXJlIHF1aWNrIHJldHJpZXZhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICBpbnNlcnQoa2V5LCB2YWx1ZSkge1xuICAgIGNhY2hlLmluc2VydChuZXcgVGlja2VyKGtleSkuZm9ybWF0KCksIHZhbHVlKTtcbiAgfSxcbn07XG4iLCIvKlxuICogQVBJQ2FjaGUgaXMgYW4gaW50ZXJuYWwgZWZmb3J0IHRvIG1pbmltaXplIHVubmVjZXNzYXJ5IEFQSSBjYWxscyB3aGVyZVxuICogcG9zc2libGUuIEEgc3BlY2lmaWMgdXNlY2FzZSB3aGVyZSBhIGNhY2hlIGlzIHVzZWZ1bCBpcyBmaWd1cmluZyBvdXQgdGhlXG4gKiBleGNoYW5nZSBhIHNlY3VyaXR5IGJlbG9uZ3MgdG8uIEEgY2FjaGUgd291bGQgYWxsb3cgdXMgdG8gbWVtb3JpemVcbiAqIHRoaXMgc3RhdGljIGRhdGEgZm9yIGEgcGVyaW9kIG9mIHRpbWUgdG8gYXZvaWQgdW5uZWNlc3NhcnkgQVBJIGNhbGxzLlxuICpcbiAqIFRoZSBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIGZvbGxvd2luZyBjYWNoZSBiZWhhdmlvdXI6XG4gKiAtIEEgbWF4aW11bSBlbnRyaWVzIHByb3ZpZGVkIGFzIGEgY29uc3RydWN0b3IgYXJndW1lbnRcbiAqIC0gRmlyc3QgaW4sIEZpcnN0IG91dCAoRklGTykgbW9kZWxcbiAqXG4gKiBUaGUgaW50ZXJuZWwgZGF0YSBzdHJ1Y3R1cmUgaXMgYSBIYXNoU2V0LCBzbyBsb29rdXAgdGltZSBjb3N0IGlzIGZhaXJseVxuICogbWluaW1hbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQVBJQ2FjaGUge1xuICBjb25zdHJ1Y3RvcihzaXplKSB7XG4gICAgdGhpcy5jYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICB9XG5cbiAgLyoqXG4gICAgICogU3RvcmUgdGhlIGtleS12YWx1ZSBwYWlyIGludG8gdGhpcyBjYWNoZS4gVGhlIG9sZGVzdCBlbnRyeSBpcyBldmljdGVkIGlmXG4gICAgICogd2UncmUgb3V0IG9mIHNwYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICovXG4gIGluc2VydChrZXksIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUuc2l6ZSA+PSB0aGlzLnNpemUpIHtcbiAgICAgIHRoaXMuY2FjaGUuZGVsZXRlKHRoaXMuY2FjaGUua2V5cygpLm5leHQoKS52YWx1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGtleVxuICAgICAqL1xuICBnZXQoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGtleSk7XG4gIH1cbn1cbiIsImltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCBUaWNrZXIgZnJvbSAnLi9jb3JlL3RpY2tlcic7XG5pbXBvcnQgeyBjb25maWdFbmFibGVkIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IGNhY2hlIGZyb20gJy4vb3B0aW9uYWwvc2VjdXJpdGllcy1jYWNoZSc7XG5cbmNsYXNzIERhdGEge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBEYXRhIHBiamVjdCBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIEh0dHBzIHdvcmtlciBzdGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBodHRwc1dvcmtlclxuICAgKi9cbiAgY29uc3RydWN0b3IoaHR0cHNXb3JrZXIpIHtcbiAgICB0aGlzLndvcmtlciA9IGh0dHBzV29ya2VyO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc25hcHNob3Qgb2YgdGhlIGN1cnJlbnQgVVNEL0NBRCBleGNoYW5nZSByYXRlcyBvbiB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlXG4gICAqIHBsYXRmb3JtLlxuICAgKi9cbiAgYXN5bmMgZXhjaGFuZ2VSYXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuRVhDSEFOR0VfUkFURVMsIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm1hdGlvbiBhYm91dCBhIHNlY3VyaXR5IG9uIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgUGxhdGZvcm0uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gdXNlclRpY2tlciBUaGUgc2VjdXJpdHkgaWRcbiAgICogQHBhcmFtIHtib29sZWFufSBleHRlbnNpdmUgUHVsbHMgYSBtb3JlIGRldGFpbGVkIHJlcG9ydCBvZiB0aGUgc2VjdXJpdHkgdXNpbmcgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9zZWN1cml0aWVzL3tpZH0gQVBJXG4gICAqL1xuICBhc3luYyBnZXRTZWN1cml0eSh1c2VyVGlja2VyLCBleHRlbnNpdmUpIHtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcblxuICAgIC8vIFJ1biBzb21lIHZhbGlkYXRpb24gb24gdGhlIHRpY2tlclxuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIodXNlclRpY2tlcik7XG5cbiAgICBpZiAoIWV4dGVuc2l2ZSAmJiBjb25maWdFbmFibGVkKCdzZWN1cml0aWVzX2NhY2hlJykpIHtcbiAgICAgIHJlc3VsdCA9IGNhY2hlLmdldCh0aWNrZXIpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aWNrZXIuaWQpIHtcbiAgICAgIC8vIFdlIHdpbGwgaW1tZWRpYXRlbHkgY2FsbCB0aGUgZXh0ZW5zaXZlIGRldGFpbHMgQVBJIHNpbmNlIHdlIGhhdmUgdGhlIHVuaXF1ZSBpZC5cbiAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLkVYVEVOU0lWRV9TRUNVUklUWV9ERVRBSUxTLCB7XG4gICAgICAgIGlkOiB0aWNrZXIuaWQsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuU0VDVVJJVFksIHsgdGlja2VyOiB0aWNrZXIuc3ltYm9sIH0pO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcigoc2VjdXJpdHkpID0+IHNlY3VyaXR5LnN0b2NrLnN5bWJvbCA9PT0gdGlja2VyLnN5bWJvbCk7XG5cbiAgICAgIGlmICh0aWNrZXIuY3J5cHRvKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKHNlY3VyaXR5KSA9PiBzZWN1cml0eS5zZWN1cml0eV90eXBlID09PSAnY3J5cHRvY3VycmVuY3knKTtcbiAgICAgIH0gZWxzZSBpZiAodGlja2VyLmV4Y2hhbmdlKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKHNlY3VyaXR5KSA9PiBzZWN1cml0eS5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlID09PSB0aWNrZXIuZXhjaGFuZ2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZSBzZWN1cml0aWVzIG1hdGNoZWQgcXVlcnkuJyk7XG4gICAgICB9IGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2VjdXJpdGllcyBtYXRjaGVkIHF1ZXJ5LicpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IHJlc3VsdCBmcm9tIGEgc2luZ2xldG9uIGxpc3QgdG8gaXRzIHJhdyBlbnRyeVxuICAgICAgW3Jlc3VsdF0gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChleHRlbnNpdmUpIHtcbiAgICAgICAgLy8gVGhlIGNhbGxlciBoYXMgb3B0ZWQgdG8gcmVjZWl2ZSB0aGUgZXh0ZW5zaXZlIGRldGFpbHMgYWJvdXQgdGhlIHNlY3VyaXR5LlxuICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5FWFRFTlNJVkVfU0VDVVJJVFlfREVUQUlMUywge1xuICAgICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25maWdFbmFibGVkKCdzZWN1cml0aWVzX2NhY2hlJykgJiYgY2FjaGUuZ2V0KHRpY2tlcikgPT09IG51bGwpIHtcbiAgICAgIGNhY2hlLmluc2VydCh0aWNrZXIsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIGEgbWFwcGluZyBvZiBhbGwgc2VjdXJpdHkgZ3JvdXBzIChhdmFpbGFibGUgb24gdGhlIFRyYWRlIHBsYXRmb3JtKSB0b1xuICAgKiB0aGVpciBncm91cCBpZHMuXG4gICAqL1xuICBhc3luYyBzZWN1cml0eUdyb3VwcygpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5TRUNVUklUWV9HUk9VUFMsIHt9KTtcblxuICAgIC8vIENvbnN0cnVjdCBhIG1hcCBvZiBjYXRlZ29yeSBuYW1lIHRvIGNhdGVnb3J5IGlkXG4gICAgcmV0dXJuIHJlc3VsdC5yZWR1Y2UoKG1hcCwgaXRlbSkgPT4gKHtcbiAgICAgIC4uLm1hcCwgW2l0ZW0ubmFtZV06IGl0ZW0uZXh0ZXJuYWxfc2VjdXJpdHlfZ3JvdXBfaWQsXG4gICAgfSksIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYWxsIHNlY3VyaXRpZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBncm91cCBuYW1lIG9yIGlkLlxuICAgKlxuICAgKiAtIElmIHlvdSBwcm92aWRlIHRoZSBncm91cCBuYW1lLCB3ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZG8gYSBsb29rdXBcbiAgICogZnJvbSB0aGUgVHJhZGUgc2VydmVycyB0byBnZXQgaXRzIGlkZW50aWZpZXIuXG4gICAqXG4gICAqIC0gQWx0ZXJuYXRpdmVseSwgWW91IGNhbiBnZXQgYSBsaXN0IG9mIGFsbCBncm91cHMgKHdpdGggdGhlaXIgZ3JvdXAgaWRzKSBmcm9tXG4gICAqIGRhdGEuZ3JvdXBzKCkgYW5kIHByb3ZpZGUgdGhlIGdyb3VwIGlkZW50aWZpZXIgZGlyZWN0bHkuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZ3JvdXAgVGhlIHNlY3VyaXR5IGdyb3VwIG5hbWUgb3IgaWRlbnRpZmllclxuICAgKi9cbiAgYXN5bmMgZ2V0U2VjdXJpdHlHcm91cChncm91cCkge1xuICAgIGxldCBncm91cElkID0gZ3JvdXA7XG5cbiAgICAvLyBGZXRjaCB0aGUgZ3JvdXAgaWQgZnJvbSB0aGUgZ3JvdXAgbmFtZVxuICAgIGlmICghZ3JvdXA/LnN0YXJ0c1dpdGgoJ3NlY3VyaXR5LWdyb3VwJykpIHtcbiAgICAgIGNvbnN0IGdyb3VwcyA9IGF3YWl0IHRoaXMuc2VjdXJpdHlHcm91cHMoKTtcblxuICAgICAgaWYgKCEoZ3JvdXAgaW4gZ3JvdXBzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke2dyb3VwfScgaXMgbm90IGEgdmFsaWQgZ3JvdXAgbmFtZSFgKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVjb3JkIHRoZSBtYXRjaGVkIGdyb3VwIGlkLlxuICAgICAgZ3JvdXBJZCA9IGdyb3Vwc1tncm91cF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlNFQ1VSSVRZX0dST1VQLCB7IGdyb3VwSWQgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YTtcbiIsImltcG9ydCB7IEhlYWRlcnMgfSBmcm9tICdub2RlLWZldGNoJztcblxuY29uc3QgY3VzdG9tSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogQXBwZW5kcyBhIGhlYWRlciBuYW1lLXZhbHVlIHBhaXIgdG8gYWxsIHJlcXVlc3RzLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5hbWUgSGVhZGVyIGtleVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIEhlYWRlciB2YWx1ZVxuICAgKi9cbiAgYWRkOiAobmFtZSwgdmFsdWUpID0+IGN1c3RvbUhlYWRlcnMuYXBwZW5kKG5hbWUsIHZhbHVlKSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGN1c3RvbSBoZWFkZXIgZnJvbSBhbGwgcmVxdWVzdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbmFtZSBIZWFkZXIga2V5XG4gICAqL1xuICByZW1vdmU6IChuYW1lKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShuYW1lKSxcblxuICAvKipcbiAgICogQ2xlYXJzIGFsbCBjdXN0b20gaGVhZGVycy5cbiAgICovXG4gIGNsZWFyOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10uZm9yRWFjaCgoaGVhZGVyKSA9PiBjdXN0b21IZWFkZXJzLmRlbGV0ZShoZWFkZXJbMF0pKSxcblxuICAvKipcbiAgICogUHJvZHVjZXMgYSBsaXN0IG9mIGN1c3RvbSBoZWFkZXJzLlxuICAgKi9cbiAgdmFsdWVzOiAoKSA9PiBbLi4uY3VzdG9tSGVhZGVyc10sXG59O1xuIiwicmVxdWlyZSgnc291cmNlLW1hcC1zdXBwb3J0JykuaW5zdGFsbCgpO1xuXG5jb25zdCBBdXRoZW50aWNhdGlvbiA9IHJlcXVpcmUoJy4vYXV0aCcpLmRlZmF1bHQ7XG5jb25zdCBoZWFkZXJzID0gcmVxdWlyZSgnLi9oZWFkZXJzJykuZGVmYXVsdDtcbmNvbnN0IEFjY291bnRzID0gcmVxdWlyZSgnLi9hY2NvdW50cycpLmRlZmF1bHQ7XG5jb25zdCBPcmRlcnMgPSByZXF1aXJlKCcuL29yZGVycycpLmRlZmF1bHQ7XG5jb25zdCBEYXRhID0gcmVxdWlyZSgnLi9kYXRhJykuZGVmYXVsdDtcbmNvbnN0IFF1b3RlcyA9IHJlcXVpcmUoJy4vcXVvdGVzJykuZGVmYXVsdDtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJykuZGVmYXVsdDtcblxuY29uc3QgSHR0cHNXb3JrZXIgPSByZXF1aXJlKCcuL25ldHdvcmsvaHR0cHMnKS5kZWZhdWx0O1xuXG4vKipcbiAqIEJ1aWxkcyBhIG5ldyBUcmFkZSBzZXNzaW9uIHdpdGggYW4gaW5kZXBlbmRlbnQgYXV0aGVudGljYXRpb25cbiAqIHN0YXRlLCBmYWNpbGl0YXRpbmcgY29uY3VycmVudCB1c2FnZSBvZiB0aGUgVHJhZGUgQVBJcy5cbiAqXG4gKiBUaGUgaGVhZGVycyBhbmQgY29uZmlnIG1vZHVsZSwgaG93ZXZlciwgaXMgbXV0dWFsbHkgc2hhcmVkIGJldHdlZW5cbiAqIGFsbCBzZXNzaW9ucy5cbiAqL1xuY29uc3QgU2Vzc2lvbiA9ICgpID0+IHtcbiAgY29uc3Qgd29ya2VyID0gbmV3IEh0dHBzV29ya2VyKCk7XG4gIGNvbnN0IGRhdGEgPSBuZXcgRGF0YSh3b3JrZXIpO1xuXG4gIHJldHVybiB7XG4gICAgYXV0aDogbmV3IEF1dGhlbnRpY2F0aW9uKHdvcmtlciksXG4gICAgaGVhZGVycyxcbiAgICBhY2NvdW50czogbmV3IEFjY291bnRzKHdvcmtlciksXG4gICAgb3JkZXJzOiBuZXcgT3JkZXJzKHdvcmtlciwgZGF0YSksXG4gICAgcXVvdGVzOiBuZXcgUXVvdGVzKHdvcmtlciwgZGF0YSksXG4gICAgZGF0YSxcbiAgICBjb25maWcsXG4gIH07XG59O1xuXG4vLyBXZSBuZWVkIGEgZGVmYXVsdCBzZXNzaW9uIGV4cG9ydGVkIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zLFxuLy8gYnV0IGFsc28gYmVjYXVzZSBub3QgZXZlcnlvbmUgY2FyZXMgYWJvdXQgY29uY3VycmVudCB1c2FnZXMuXG5jb25zdCBkZWZhdWx0U2Vzc2lvbiA9IG5ldyBTZXNzaW9uKCk7XG4vLyBBbGxvdyB0aGUgY3JlYXRpb24gb2YgbXVsdGlwbGUgc2Vzc2lvbnMgdGhyb3VnaCBhIFNlc3Npb24oKSBjb25zdHJ1Y3RvclxuZGVmYXVsdFNlc3Npb24uU2Vzc2lvbiA9ICgpID0+IG5ldyBTZXNzaW9uKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdFNlc3Npb247XG4iLCIvKipcbiAqIENvbXB1dGVzIHRoZSBjdXJyZW50IHRpbWUgaW4gZXBvY2ggc2Vjb25kcy5cbiAqL1xuY29uc3QgZXBvY2hTZWNvbmRzID0gKCkgPT4gcGFyc2VJbnQoRGF0ZS5ub3coKSAvIDEwMDAsIDEwKTtcbmV4cG9ydCBkZWZhdWx0IGVwb2NoU2Vjb25kcztcbiIsImltcG9ydCBlcG9jaFNlY29uZHMgZnJvbSAnLi4vaGVscGVycy90aW1lJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSB3aWxsIHByb3ZpZGUgYSB1bmlmb3JtIGludGVyZmFjZSBmb3Igc3RvcmFnZVxuICogYW5kIHJldHJpZXZhbCBvZiBhdXRoZW50aWNhdG9uIHRva2VucyB0aHJvdWdob3V0IHdzdHJhZGUtYXBpLlxuICovXG5jbGFzcyBUb2tlbnMge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBhdXRoZW50aWNhdGlvbiB0b2tlbnMgb2JqZWN0LlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hY2Nlc3MgPSBudWxsO1xuICAgIHRoaXMucmVmcmVzaCA9IG51bGw7XG4gICAgdGhpcy5leHBpcmVzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdG9rZW5zIFRoZSBuZXcgdG9rZW5zXG4gICAqL1xuICBzdG9yZSh0b2tlbnMpIHtcbiAgICB0aGlzLmFjY2VzcyA9IHRva2Vucy5hY2Nlc3M7XG4gICAgdGhpcy5yZWZyZXNoID0gdG9rZW5zLnJlZnJlc2g7XG4gICAgdGhpcy5leHBpcmVzID0gdG9rZW5zLmV4cGlyZXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHRva2VucyBoYXZlIGV4cGlyZWQuXG4gICAqL1xuICBleHBpcmVkKCkge1xuICAgIHJldHVybiB0aGlzLmV4cGlyZXMgJiYgZXBvY2hTZWNvbmRzKCkgPj0gdGhpcy5leHBpcmVzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRva2VucztcbiIsImltcG9ydCBjbG91ZHNjcmFwZXIgZnJvbSAnY2xvdWRzY3JhcGVyJztcbmltcG9ydCBjdXN0b21IZWFkZXJzIGZyb20gJy4uL2hlYWRlcnMnO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuLi9hcGkvZW5kcG9pbnRzJztcbmltcG9ydCB7IGNvbmZpZ0VuYWJsZWQgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IFRva2VucyBmcm9tICcuLi9jb3JlL3Rva2Vucyc7XG5cbmNvbnN0IFtIVFRQX09LLCBIVFRQX0NSRUFURURdID0gWzIwMCwgMjAxXTtcblxuLypcbiAqIENvbXBsZXRlIHRoZSBVUkwgYnkgZmlsbGluZyB0aGUgcGFyYW1ldGVyIHBsYWNlaG9sZGVycyB3aXRoIHRoZVxuICogZGF0YSBhcmd1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIGZpbmFsaXplUmVxdWVzdChlbmRwb2ludCwgZGF0YSkge1xuICAvLyBNYWtlIGEgY29weSBzbyB3ZSBkb24ndCBtb2RpZnkgdGhlIG9yaWdpbmFsIG9uZS5cbiAgY29uc3QgcGFyYW1zID0geyAuLi5kYXRhIH07XG4gIGxldCB7IHVybCB9ID0gZW5kcG9pbnQ7XG5cbiAgLy8gTm8gbmVlZCB0byBkbyBhbnl0aGluZyBpZiB0aGUgVVJMIGlzIHN0YXRpYyAobm8gcGFyYW1ldGVycylcbiAgaWYgKGVuZHBvaW50LnBhcmFtZXRlcnMpIHtcbiAgICAvLyBTd2FwIGFsbCB0aGUgcGFyYW1ldGVyIHBsYWNlaG9sZGVycyB3aXRoIHRoZSBhcmd1bWVudHMuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IE9iamVjdC5rZXlzKGVuZHBvaW50LnBhcmFtZXRlcnMpLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgcGFyYW1ldGVyTmFtZSA9IGVuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdO1xuXG4gICAgICAvLyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgY2hlY2sgZm9yIG51bGwgYW5kIHVuZGVmaW5lZCBzaW5jZSBwYXJhbWV0ZXJcbiAgICAgIC8vIHZhbHVlcyBtaWdodCBiZSAwLlxuICAgICAgaWYgKHBhcmFtc1twYXJhbWV0ZXJOYW1lXSA9PT0gbnVsbCB8fCBwYXJhbXNbcGFyYW1ldGVyTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVSTCBwYXJhbWV0ZXIgJyR7cGFyYW1ldGVyTmFtZX0nIG1pc3NpbmchYCk7XG4gICAgICB9XG5cbiAgICAgIC8qXG4gICAgICAgICogUGFyYW1ldGVycyBzdXJyb3VuZGVkIHdpdGggY3VybHkgYnJhY2VzIChlLmcuLCB7Mn0pIGFyZSBzaW1wbGUgdmFsdWUgcmVwbGFjZW1lbnRzLFxuICAgICAgICAqIHdoaWxlIG9uZXMgc3Vycm91bmRlZCB3aXRoIHNxdWFyZSBicmFja2V0cyAoZS5nLiwgWzFdKSBhcmUgYXJyYXktdmFsdWUgcmVwbGFjZW1lbnRzLlxuICAgICAgICAqL1xuICAgICAgaWYgKHVybC5pbmRleE9mKGB7JHtpbmRleH19YCkgPj0gMCkge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShgeyR7aW5kZXh9fWAsIHBhcmFtc1tlbmRwb2ludC5wYXJhbWV0ZXJzW2luZGV4XV0pO1xuICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZihgWyR7aW5kZXh9XWApID49IDApIHtcbiAgICAgICAgLy8gZXh0cmFjdCBxdWVyeSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIGFycmF5IG9mIHZhbHVlc1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtTmFtZSA9IGVuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBwYXJhbXNbcXVlcnlQYXJhbU5hbWVdO1xuXG4gICAgICAgIC8vIENvbnN0cnVjdCB0aGUgcXVlcnlQYXJhbSB1c2luZyBldmVyeSB2YWx1ZSBpbiB0aGUgdmFsdWVzIGFycmF5LlxuICAgICAgICAvLyBIZXJlIGlzIGFuIGV4YW1wbGUgb2Ygd2hhdCBxdWVyeVBhcmFtIGVuZHMgdXAgYmVpbmc6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIHF1ZXJ5UGFyYW1OYW1lID0gJ3R5cGUnXG4gICAgICAgIC8vIHZhbHVlcyA9IFsnYnV5JywgJ3NlbGwnLCAnZGl2aWRlbmQnXVxuICAgICAgICAvLyBxdWVyeVBhcmFtID0gJ3R5cGU9YnV5JnR5cGU9c2VsbCZ0eXBlPWRpdmlkZW5kJ1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IGAke3F1ZXJ5UGFyYW1OYW1lfT0ke3ZhbHVlfWApLmpvaW4oJyYnKTtcblxuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShgWyR7aW5kZXh9XWAsIHF1ZXJ5UGFyYW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgVVJMISBUaGlzIGlzIGFuIGludGVybmFsIGVycm9yOiByYWlzZSBhbiBpc3N1ZSEnKTtcbiAgICAgIH1cblxuICAgICAgLy8gTXVzdCByZW1vdmUgdGhpcyBrZXkgZnJvbSB0aGUgcGF5bG9hZCBhcyBpdCBoYXMgYmVlbiBjb25zdW1lZCBieSB0aGUgVVJMXG4gICAgICBkZWxldGUgcGFyYW1zW2VuZHBvaW50LnBhcmFtZXRlcnNbaW5kZXhdXTtcbiAgICB9XG4gIH1cblxuICAvLyBObyBwYXlsb2FkIGF0dGFjaGVkIHRvIEdFVC9ERUxFVEUgcmVxdWVzdHNcbiAgaWYgKFsnR0VUJywgJ0hFQUQnXS5pbmNsdWRlcyhlbmRwb2ludC5tZXRob2QpKSB7XG4gICAgcmV0dXJuIHsgdXJsLCBwYXlsb2FkOiB1bmRlZmluZWQgfTtcbiAgfVxuXG4gIHJldHVybiB7IHVybCwgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSB9O1xufVxuXG5jbGFzcyBIdHRwc1dvcmtlciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgSHR0cHNXb3JrZXIgd2l0aCBpdHMgb3duIGF1dGhlbnRpY2F0aW9uIHN0YXRlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50b2tlbnMgPSBuZXcgVG9rZW5zKCk7XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiBldmVudHNcbiAgICB0aGlzLmV2ZW50cyA9IHtcbiAgICAgIG90cDogbnVsbCxcbiAgICAgIHJlZnJlc2g6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIHJ1biBvbiBhIGNlcnRhaW4gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnQgVGhlIHRyaWdnZXIgZm9yIHRoZSBmdW5jdGlvblxuICAgKiBAcGFyYW0geyp9IGhhbmRsZXIgZXZlbnQgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAqL1xuICBvbihldmVudCwgaGFuZGxlcikge1xuICAgIGlmICghKGV2ZW50IGluIHRoaXMuZXZlbnRzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBhdXRoZW50aWNhdGlvbiBldmVudCAnJHtldmVudH0nIWApO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IGhhbmRsZXI7XG4gIH1cblxuICAvKlxuICAgKiBJbXBsZW1lbnRzIHRoZSBuZXR3b3JrIGxldmVsIHByb3RvY29sIGZvciB0YWxraW5nIHRvIHRoZVxuICAgKiBXZWFsdGhzaW1wbGUgVHJhZGUgSFRUUFMgQVBJLlxuICAgKi9cbiAgYXN5bmMgdGFsayhlbmRwb2ludCwgZGF0YSkge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7ICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcblxuICAgIGlmIChlbmRwb2ludC5hdXRoZW50aWNhdGVkKSB7XG4gICAgICAvLyBubyBhY2Nlc3MgdG9rZW4gbWVhbnMgd2Ugd2lsbCBwcmVtYXR1cmVseSBmYWlsIHRoZSByZXF1ZXN0IGJlY2F1c2VcbiAgICAgIC8vIHRoaXMgaXMgYSBwcml2aWxlZ2VkIGVuZHBvaW50LlxuICAgICAgaWYgKCF0aGlzLnRva2Vucy5hY2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdXRoZW50aWNhdGlvbiByZXF1aXJlZCBmb3IgJyR7ZW5kcG9pbnQudXJsfSdgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpZ0VuYWJsZWQoJ2ltcGxpY2l0X3Rva2VuX3JlZnJlc2gnKSkge1xuICAgICAgICBhd2FpdCB0aGlzLmltcGxpY2l0VG9rZW5SZWZyZXNoKCk7XG4gICAgICB9XG5cbiAgICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRoaXMudG9rZW5zLmFjY2VzcztcbiAgICB9XG5cbiAgICAvLyBBcHBseSBhbGwgY3VzdG9tIGhlYWRlcnNcbiAgICBjdXN0b21IZWFkZXJzLnZhbHVlcygpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4geyBoZWFkZXJzW2tleV0gPSB2YWx1ZTsgfSk7XG5cbiAgICAvLyBmaWxsIHBhdGggYW5kIHF1ZXJ5IHBhcmFtZXRlcnMgaW4gdGhlIFVSTFxuICAgIGNvbnN0IHsgdXJsLCBwYXlsb2FkIH0gPSBmaW5hbGl6ZVJlcXVlc3QoZW5kcG9pbnQsIGRhdGEpO1xuXG4gICAgLy8gV2VhbHRoc2ltcGxlIGVuZHBvaW50cyBhcmUgcHJvdGVjdGVkIGJ5IENsb3VkZmxhcmUuXG4gICAgLy8gVGhlIGNsb3Vkc2NyYXBlciBsaWJyYXJ5IHRha2VzIGNhcmUgb2YgdGhlIENsb3VkZmxhcmUgY2hhbGxlbmdlc1xuICAgIC8vIHdoaWxlIGFsc28gZXhlY3V0aW5nIG91ciByZXF1ZXN0XG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcbiAgICBhd2FpdCBjbG91ZHNjcmFwZXIoe1xuICAgICAgdXJsLFxuICAgICAgYm9keTogcGF5bG9hZCxcbiAgICAgIG1ldGhvZDogZW5kcG9pbnQubWV0aG9kLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNhbGxiYWNrOiAodW51c2VkLCByZXMpID0+IHtcbiAgICAgICAgLy8gU2F2ZSB0aGUgSFRUUCByZXNwb25zZVxuICAgICAgICByZXNwb25zZSA9IHJlcztcbiAgICAgIH0sXG4gICAgfSkuY2F0Y2goKCkgPT4geyB9KTtcblxuICAgIHRyeSB7XG4gICAgICByZXNwb25zZS5ib2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gaXQncyBub3QgSlNPTiwgYnV0IHRoYXQncyBmaW5lLiBXZSBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgLy8gZm9yIG5vdy5cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKlxuICAgKiBGdWxmaWxsIHRoZSBlbmRwb2ludCByZXF1ZXN0IGdpdmVuIHRoZSBlbmRwb2ludCBjb25maWd1cmF0aW9uLCBvcHRpb25hbFxuICAgKiBkYXRhLlxuICAgKi9cbiAgYXN5bmMgaGFuZGxlUmVxdWVzdChlbmRwb2ludCwgZGF0YSkge1xuICAgIC8vIFN1Ym1pdCB0aGUgSFRUUCByZXF1ZXN0IHRvIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgU2VydmVyc1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy50YWxrKGVuZHBvaW50LCBkYXRhKTtcblxuICAgIGlmIChbSFRUUF9PSywgSFRUUF9DUkVBVEVEXS5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXNDb2RlKSkge1xuICAgICAgcmV0dXJuIGVuZHBvaW50Lm9uU3VjY2VzcyhyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVuZHBvaW50Lm9uRmFpbHVyZShyZXNwb25zZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIGVzdGFibGlzaCBhIHNlc3Npb24gZm9yIHRoZSBwcm92aWRlZCBlbWFpbCBhbmQgcGFzc3dvcmQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZW1haWwgZW1haWxlZCByZWdpc3RlcmVkIGJ5IHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHBhc3N3b3JkIFRoZSBwYXNzd29yZCBvZiB0aGUgYWNjb3VudFxuICAgKi9cbiAgYXN5bmMgbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgbGV0IHJlc3BvbnNlID0gbnVsbDtcblxuICAgIC8qXG4gICAgICogSWYgd2UgYXJlIGdpdmVuIGEgZnVuY3Rpb24gZm9yIG90cCwgdGhlbiB3ZSBtdXN0IGZhaWwgYSBsb2cgaW4gdG9cbiAgICAgKiB0cmlnZ2VyIGFuIE9UUCBldmVudCB3aXRoIFdlYWx0aHNpbXBsZSBUcmFkZS4gVGhpcyB3aWxsIGFsbG93IHRoZSB1c2VyXG4gICAgICogb3RwIHRodW5rIHRvIHJldHJpZXZlIHRoZSBjb2RlLlxuICAgICAqXG4gICAgICogSWYgYSBsaXRlcmFsIHZhbHVlIGlzIHByb3ZpZGVkIGZvciBvdHAsIGl0IG1lYW5zIHRoZSB1c2VyIGhhcyBtYW51YWxseVxuICAgICAqIHByb3ZpZGVkIHVzIHdpdGggdGhlIG90cCBjb2RlLiBXZSBjYW4gc2tpcCB0aGlzIGxvZ2luIGF0dGVtcHQuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiAodGhpcy5ldmVudHMub3RwKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXdhaXQgdGhpcy5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5MT0dJTiwge1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICB9KS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBsb2cgaW4gZm9yIHJlYWwgdGhpcyB0aW1lLlxuICAgIHRyeSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuTE9HSU4sIHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgICBvdHA6IHR5cGVvZiAodGhpcy5ldmVudHMub3RwKSA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IHRoaXMuZXZlbnRzLm90cCgpIDogdGhpcy5ldmVudHMub3RwLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIHdlIG1pZ2h0IGhhdmUgZmFpbGVkIGJlY2F1c2UgT1RQIHdhcyBub3QgcHJvdmlkZWRcbiAgICAgIGNvbnNvbGUubG9nKCdsb2dpbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICBpZiAoIXRoaXMuZXZlbnRzLm90cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09UUCBub3QgcHJvdmlkZWQhJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNlZW1zIHRvIGJlIGluY29ycmVjdCBjcmVkZW50aWFscyBvciBPVFAuXG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICAvLyBDYXB0dXJlIHRoZSB0b2tlbnMgZm9yIGxhdGVyIHVzYWdlLlxuICAgIHRoaXMudG9rZW5zLnN0b3JlKHJlc3BvbnNlLnRva2Vucyk7XG4gIH1cblxuICAvKipcbiAgICogT2J0YWluIGEgbmV3IHNldCBvZiBhdXRoZW50aWNhdGlvbiB0b2tlbnMgdXNpbmcgdGhlXG4gICAqIGV4aXN0aW5nIHJlZnJlc2ggdG9rZW4uXG4gICAqXG4gICAqIElmIHdlIGFyZSBnaXZlbiBhIGZ1bmN0aW9uIGZvciByZWZyZXNoLCBjYWxsIHRoYXQgZnVuY3Rpb25cbiAgICogd2l0aCB0aGUgcmVmcmVzaGVkIHRva2Vucy5cbiAgICovXG4gIGFzeW5jIHJlZnJlc2hBdXRoZW50aWNhdGlvbigpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUkVGUkVTSCwge1xuICAgICAgcmVmcmVzaF90b2tlbjogdGhpcy50b2tlbnMucmVmcmVzaCxcbiAgICB9KTtcblxuICAgIHRoaXMudG9rZW5zLnN0b3JlKHJlc3BvbnNlLnRva2Vucyk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGFuZCBjYWxsIHRoZSBoYW5kbGVyIGZvciB0aGlzIGV2ZW50IGlmIHdlIGhhdmUgb25lXG4gICAgICBpZiAodHlwZW9mICh0aGlzLmV2ZW50cy5yZWZyZXNoKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBhd2FpdCB0aGlzLmV2ZW50cy5yZWZyZXNoKHRoaXMudG9rZW5zKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gVGhlIGhhbmRsZXIgaGFkIGFuIGlzc3VlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGluIGF1dGgub24oKSBoYW5kbGVyIGZvciAncmVmcmVzaCc6ICR7ZXJyb3J9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBleGlzdGluZyBzZXQgb2YgdG9rZW5zIGhhdmUgZXhwaXJlZCwgYXV0b21hdGljYWxseVxuICAgKiB0cmlnZ2VyaW5nIGEgcmVmcmVzaCBpZiB0aGV5IGhhdmUgZXhwaXJlZC5cbiAgICovXG4gIGFzeW5jIGltcGxpY2l0VG9rZW5SZWZyZXNoKCkge1xuICAgIGlmICh0aGlzLnRva2Vucy5leHBpcmVkKCkpIHtcbiAgICAgIGlmICh0aGlzLnRva2Vucy5yZWZyZXNoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gTGV0J3MgaW1wbGljaXRseSByZWZyZXNoIHRoZSBhY2Nlc3MgdG9rZW4gdXNpbmcgdGhlIHJlZnJlc2ggdG9rZW4uXG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWZyZXNoQXV0aGVudGljYXRpb24oKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBUaGUgcmVmcmVzaCB0b2tlbiBpcyBub3QgdmFsaWQuXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcmVmcmVzaCBleHBpcmVkIHRva2VuOiAke2Vycm9yfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBhcmUgZm9yY2VkIHRvIHJlamVjdCBhcyBvdXIgYWNjZXNzIHRva2VuIGhhcyBleHBpcmVkIGFuZCB3ZVxuICAgICAgICAvLyBkbyBub3QgaGF2ZSBhIHJlZnJlc2ggdG9rZW4uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIHRva2VuIGV4cGlyZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSHR0cHNXb3JrZXI7XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gJy4vYXBpL2VuZHBvaW50cyc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4vY29yZS90aWNrZXInO1xuXG4vLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygb3JkZXJzIHJldHJpZXZlZCBieSB0aGUgL29yZGVycyBBUEkuXG5jb25zdCBPUkRFUlNfUEVSX1BBR0UgPSAyMDtcblxuY29uc3QgaXNDYW5hZGlhblNlY3VyaXR5ID0gKGV4Y2hhbmdlKSA9PiBbJ1RTWCcsICdUU1gtViddLmluY2x1ZGVzKGV4Y2hhbmdlKTtcblxuLypcbiAqIFJldHJpZXZlIGZpbHRlcmVkIG9yZGVycyBieSB0aWNrZXIgYW5kIHN0YXR1cy5cbiAqL1xuZnVuY3Rpb24gZmlsdGVyZWRPcmRlcnMobGlzdCwgdGlja2VyLCBzdGF0dXMpIHtcbiAgY29uc3Qgb3JkZXJGaWx0ZXIgPSAob3JkZXIpID0+IHtcbiAgICBpZiAodGlja2VyKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBuZXcgVGlja2VyKHsgc3ltYm9sOiBvcmRlci5zeW1ib2wsIGlkOiBvcmRlci5zZWN1cml0eV9pZCB9KTtcbiAgICAgIC8vIG9yZGVyIG9iamVjdHMgZG9uJ3QgaW5jbHVkZSBleGNoYW5nZXMsIHNvIHdlIGFyZSB1bmFibGUgdG8gbWFrZVxuICAgICAgLy8gYSBzdHJvbmcgY29tcGFyaXNvbiB3aXRob3V0IHJlcXVpcmluZyBhIGxpbmVhciBpbmNyZWFzZSBvZlxuICAgICAgLy8gZW5kcG9pbnQgY2FsbHMgKHdoaWNoIGlzIG5vdCByZWFzb25hYmxlKS5cbiAgICAgIC8vXG4gICAgICAvLyBUaGUgdXNlciBzaG91bGQgcHJvdmlkZSB0aGUgc2VjdXJpdHkgaWQgZm9yIGEgc3Ryb25nIGNvbXBhcmlzb24gaGVyZS5cbiAgICAgIGlmICghbmV3IFRpY2tlcih0aWNrZXIpLndlYWtFcXVhbHModGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9yZGVyLnN0YXR1cyA9PT0gc3RhdHVzO1xuICB9O1xuXG4gIC8vIEFwcGx5IGZpbHRlciB0byB0aGUgcmVzdWx0XG4gIGNvbnN0IGZpbHRlcmVkID0gbGlzdC5vcmRlcnMuZmlsdGVyKG9yZGVyRmlsdGVyKTtcblxuICByZXR1cm4ge1xuICAgIG9yZGVyczogZmlsdGVyZWQsXG4gICAgdG90YWw6IGZpbHRlcmVkLmxlbmd0aCxcbiAgfTtcbn1cblxuY2xhc3MgT3JkZXJzIHtcbiAgLyoqXG4gICAqIENyZWF0ZXcgYSBuZXcgT3JkZXJIaXN0b3J5IG9iamVjdCBhc3NvY2lhdGVkIHdpdGggYW4gSHR0cHMgd29ya2VyIHN0YXRlLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGh0dHBzV29ya2VyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihodHRwc1dvcmtlciwgZGF0YSkge1xuICAgIHRoaXMud29ya2VyID0gaHR0cHNXb3JrZXI7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0cyBvcmRlcnMgKGZpbGxlZCwgcGVuZGluZywgY2FuY2VsbGVkKSBmb3IgdGhlIHByb3ZpZGVkIHBhZ2UgYW5kXG4gICAqIGFjY291bnQgaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHBhZ2VOdW0gVGhlIG9yZGVycyBwYWdlIGluZGV4IHRvIHNlZWsgdG9cbiAgICovXG4gIGFzeW5jIHBhZ2UoYWNjb3VudElkLCBwYWdlTnVtKSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLk9SREVSU19CWV9QQUdFLCB7XG4gICAgICBvZmZzZXQ6IChwYWdlTnVtIC0gMSkgKiBPUkRFUlNfUEVSX1BBR0UsXG4gICAgICBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29sbGVjdHMgYWxsIG9yZGVycyAoZmlsbGVkLCBwZW5kaW5nLCBjYW5jZWxsZWQpIGZvciB0aGUgc3BlY2lmaWMgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBhc3luYyBhbGwoYWNjb3VudElkKSB7XG4gICAgLy8gV2Ugc3RhcnQgYnkgY2FwdHVyaW5nIHRoZSBmaXJzdCBwYWdlIG9mIG9yZGVycyBpbiBvcmRlciB0b1xuICAgIC8vIGRldGVybWluZSB0aGUgbnVtYmVyIG9mIHBhZ2VzIGF2YWlsYWJsZVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLnBhZ2UoYWNjb3VudElkLCAxKTtcbiAgICBjb25zdCBwYWdlcyA9IE1hdGguY2VpbChkYXRhLnRvdGFsIC8gT1JERVJTX1BFUl9QQUdFKTtcblxuICAgIGlmIChwYWdlcyA+IDEpIHtcbiAgICAgIGNvbnN0IHRhc2tzID0gW107XG5cbiAgICAgIC8vIEJ1aWxkIHRoZSB0YXNrIHF1ZXVlIHRoYXQgd2lsbCByZXRyaWV2ZSB0aGUgcmVtYWluaW5nIHBhZ2VzIG9mIG9yZGVyc1xuICAgICAgZm9yIChsZXQgcGFnZU51bSA9IDI7IHBhZ2VOdW0gPD0gcGFnZXM7IHBhZ2VOdW0rKykge1xuICAgICAgICB0YXNrcy5wdXNoKHRoaXMucGFnZShhY2NvdW50SWQsIHBhZ2VOdW0pLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lm9yZGVycykpO1xuICAgICAgfVxuXG4gICAgICAvLyBPdXQtb2Ytb3JkZXIgaW52b2NhdGlvbiBpcyBkZXNpcmVkLiBXaGF0IG1hdHRlcnMgaXMgdGhhdCBQcm9taXNlLmFsbCB3aWxsXG4gICAgICAvLyBndWFyYW50ZWUgdGhhdCB0aGUgZGF0YSBvcmRlciBpcyBwcmVzZXJ2ZWQuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbCh0YXNrcyk7XG4gICAgICByZXN1bHQuZm9yRWFjaCgobGlzdCkgPT4gZGF0YS5vcmRlcnMucHVzaCguLi5saXN0KSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgdG90YWwgYXR0cmlidXRlIHRvIHJlZmxlY3QgdGhlIG5ldyBzaXplXG4gICAgICBkYXRhLnRvdGFsID0gZGF0YS5vcmRlcnMubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBwZW5kaW5nIG9yZGVycyBmb3IgdGhlIHNwZWNpZmllZCBzZWN1cml0eSBpbiB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIChvcHRpb25hbCkgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKi9cbiAgYXN5bmMgcGVuZGluZyhhY2NvdW50SWQsIHRpY2tlcikge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuYWxsKGFjY291bnRJZCk7XG4gICAgcmV0dXJuIGZpbHRlcmVkT3JkZXJzKG9yZGVycywgdGlja2VyLCAnc3VibWl0dGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGZpbGxlZCBvcmRlcnMgZm9yIHRoZSBzcGVjaWZpZWQgc2VjdXJpdHkgaW4gdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHRpY2tlciAob3B0aW9uYWwpIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICovXG4gIGFzeW5jIGZpbGxlZChhY2NvdW50SWQsIHRpY2tlcikge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuYWxsKGFjY291bnRJZCk7XG4gICAgcmV0dXJuIGZpbHRlcmVkT3JkZXJzKG9yZGVycywgdGlja2VyLCAncG9zdGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGNhbmNlbGxlZCBvcmRlcnMgZm9yIHRoZSBzcGVjaWZpZWQgc2VjdXJpdHkgaW4gdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBzcGVjaWZpYyBhY2NvdW50IGluIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYWNjb3VudFxuICAgKiBAcGFyYW0geyp9IHRpY2tlciAob3B0aW9uYWwpIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICovXG4gIGFzeW5jIGNhbmNlbGxlZChhY2NvdW50SWQsIHRpY2tlcikge1xuICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IHRoaXMuYWxsKGFjY291bnRJZCk7XG4gICAgcmV0dXJuIGZpbHRlcmVkT3JkZXJzKG9yZGVycywgdGlja2VyLCAnY2FuY2VsbGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgcGVuZGluZyBvcmRlciBzcGVjaWZpZWQgYnkgdGhlIG9yZGVyIGlkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG9yZGVySWQgVGhlIHBlbmRpbmcgb3JkZXIgdG8gY2FuY2VsXG4gICAqL1xuICBhc3luYyBjYW5jZWwob3JkZXJJZCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmRlcjogb3JkZXJJZCxcbiAgICAgIHJlc3BvbnNlOiBhd2FpdCB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5DQU5DRUxfT1JERVIsIHsgb3JkZXJJZCB9KSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYWxsIHBlbmRpbmcgb3JkZXJzIHVuZGVyIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgQWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIHNwZWNpZmljIGFjY291bnQgaW4gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhY2NvdW50XG4gICAqL1xuICBhc3luYyBjYW5jZWxQZW5kaW5nKGFjY291bnRJZCkge1xuICAgIGNvbnN0IHBlbmRpbmcgPSBhd2FpdCB0aGlzLnBlbmRpbmcoYWNjb3VudElkKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVuZGluZy5vcmRlcnMubWFwKGFzeW5jIChvcmRlcikgPT4gdGhpcy5jYW5jZWwob3JkZXIub3JkZXJfaWQpKSk7XG4gIH1cblxuICAvKipcbiAgICogTWFya2V0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBhc3luYyBtYXJrZXRCdXkoYWNjb3VudElkLCB0aWNrZXIsIHF1YW50aXR5KSB7XG4gICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIHRydWUpO1xuXG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogZGV0YWlscy5pZCxcbiAgICAgIGxpbWl0X3ByaWNlOiAhKG5ldyBUaWNrZXIodGlja2VyKS5jcnlwdG8pID8gZGV0YWlscy5xdW90ZS5hbW91bnQgOiB1bmRlZmluZWQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdtYXJrZXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRnJhY3Rpb25hbCBidXkgYSBzZWN1cml0eSB0aHJvdWdoIHRoZSBXZWFsdGhzaW1wbGUgVHJhZGUgYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gYWNjb3VudElkIFRoZSBhY2NvdW50IHRvIG1ha2UgdGhlIHRyYW5zYWN0aW9uIGZyb21cbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHNlY3VyaXR5IHN5bWJvbFxuICAgKiBAcGFyYW0geyp9IG1hcmtldFZhbHVlIFRoZSBwcmljZSBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBhc3luYyBmcmFjdGlvbmFsQnV5KGFjY291bnRJZCwgdGlja2VyLCBtYXJrZXRWYWx1ZSkge1xuICAgIC8vIGNvbnN0IGRldGFpbHMgPSBhd2FpdCB0aGlzLmRhdGEuZ2V0U2VjdXJpdHkodGlja2VyLCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICAgIHNlY3VyaXR5X2lkOiAoYXdhaXQgdGhpcy5kYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkLFxuICAgICAgbWFya2V0X3ZhbHVlOiBtYXJrZXRWYWx1ZSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfdmFsdWUnLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdmcmFjdGlvbmFsJyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExpbWl0IGJ1eSBhIHNlY3VyaXR5IHRocm91Z2ggdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBhY2NvdW50SWQgVGhlIGFjY291bnQgdG8gbWFrZSB0aGUgdHJhbnNhY3Rpb24gZnJvbVxuICAgKiBAcGFyYW0geyp9IHRpY2tlciBUaGUgc2VjdXJpdHkgc3ltYm9sXG4gICAqIEBwYXJhbSB7Kn0gbGltaXQgVGhlIG1heGltdW0gcHJpY2UgdG8gcHVyY2hhc2UgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHB1cmNoYXNlXG4gICAqL1xuICBhc3luYyBsaW1pdEJ1eShhY2NvdW50SWQsIHRpY2tlciwgbGltaXQsIHF1YW50aXR5KSB7XG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogKGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpKS5pZCxcbiAgICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ2J1eV9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbGltaXQgYnV5IGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBzdG9wIFRoZSBwcmljZSBhdCB3aGljaCB0aGUgb3JkZXIgY29udmVydHMgdG8gYSBsaW1pdCBvcmRlclxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtYXhpbXVtIHByaWNlIHRvIHB1cmNoYXNlIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBwdXJjaGFzZVxuICAgKi9cbiAgYXN5bmMgc3RvcExpbWl0QnV5KGFjY291bnRJZCwgdGlja2VyLCBzdG9wLCBsaW1pdCwgcXVhbnRpdHkpIHtcbiAgICBjb25zdCBzZWN1cml0eSA9IGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIpO1xuXG4gICAgLy8gVGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBiYWNrZW5kIGRvZXNuJ3QgY2hlY2sgZm9yIHRoaXMsIGV2ZW4gdGhvdWdoIHRoZSBhcHAgZG9lcy4uXG4gICAgaWYgKGlzQ2FuYWRpYW5TZWN1cml0eShzZWN1cml0eS5zdG9jay5wcmltYXJ5X2V4Y2hhbmdlKSAmJiBzdG9wICE9PSBsaW1pdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUU1gvVFNYLVYgc2VjdXJpdGllcyBtdXN0IGhhdmUgYW4gZXF1aXZhbGVudCBzdG9wIGFuZCBsaW1pdCBwcmljZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy53b3JrZXIuaGFuZGxlUmVxdWVzdChlbmRwb2ludHMuUExBQ0VfT1JERVIsIHtcbiAgICAgIHNlY3VyaXR5X2lkOiBzZWN1cml0eS5pZCxcbiAgICAgIHN0b3BfcHJpY2U6IHN0b3AsXG4gICAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdidXlfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdzdG9wX2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtldCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIHNlY3VyaXRpZXMgdG8gcHVyY2hhc2VcbiAgICovXG4gIGFzeW5jIG1hcmtldFNlbGwoYWNjb3VudElkLCB0aWNrZXIsIHF1YW50aXR5KSB7XG4gICAgY29uc3QgZGV0YWlscyA9IGF3YWl0IHRoaXMuZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIHRydWUpO1xuXG4gICAgcmV0dXJuIHRoaXMud29ya2VyLmhhbmRsZVJlcXVlc3QoZW5kcG9pbnRzLlBMQUNFX09SREVSLCB7XG4gICAgICBzZWN1cml0eV9pZDogZGV0YWlscy5pZCxcbiAgICAgIG1hcmtldF92YWx1ZTogIShuZXcgVGlja2VyKHRpY2tlcikuY3J5cHRvKSA/IGRldGFpbHMucXVvdGUuYW1vdW50IDogdW5kZWZpbmVkLFxuICAgICAgcXVhbnRpdHksXG4gICAgICBvcmRlcl90eXBlOiAnc2VsbF9xdWFudGl0eScsXG4gICAgICBvcmRlcl9zdWJfdHlwZTogJ21hcmtldCcsXG4gICAgICB0aW1lX2luX2ZvcmNlOiAnZGF5JyxcbiAgICAgIGFjY291bnRfaWQ6IGFjY291bnRJZCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaW1pdCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBsaW1pdCBUaGUgbWluaW11bSBwcmljZSB0byBzZWxsIHRoZSBzZWN1cml0eSBhdFxuICAgKiBAcGFyYW0geyp9IHF1YW50aXR5IFRoZSBudW1iZXIgb2Ygc2VjdXJpdGllcyB0byBzZWxsXG4gICAqL1xuICBhc3luYyBsaW1pdFNlbGwoYWNjb3VudElkLCB0aWNrZXIsIGxpbWl0LCBxdWFudGl0eSkge1xuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IChhd2FpdCB0aGlzLmRhdGEuZ2V0U2VjdXJpdHkodGlja2VyKSkuaWQsXG4gICAgICBsaW1pdF9wcmljZTogbGltaXQsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIG9yZGVyX3R5cGU6ICdzZWxsX3F1YW50aXR5JyxcbiAgICAgIG9yZGVyX3N1Yl90eXBlOiAnbGltaXQnLFxuICAgICAgdGltZV9pbl9mb3JjZTogJ2RheScsXG4gICAgICBhY2NvdW50X2lkOiBhY2NvdW50SWQsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBsaW1pdCBzZWxsIGEgc2VjdXJpdHkgdGhyb3VnaCB0aGUgV2VhbHRoc2ltcGxlIFRyYWRlIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGFjY291bnRJZCBUaGUgYWNjb3VudCB0byBtYWtlIHRoZSB0cmFuc2FjdGlvbiBmcm9tXG4gICAqIEBwYXJhbSB7Kn0gdGlja2VyIFRoZSBzZWN1cml0eSBzeW1ib2xcbiAgICogQHBhcmFtIHsqfSBzdG9wIFRoZSBwcmljZSBhdCB3aGljaCB0aGUgb3JkZXIgY29udmVydHMgdG8gYSBsaW1pdCBvcmRlclxuICAgKiBAcGFyYW0geyp9IGxpbWl0IFRoZSBtaW5pbXVtIHByaWNlIHRvIHNlbGwgdGhlIHNlY3VyaXR5IGF0XG4gICAqIEBwYXJhbSB7Kn0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBzZWN1cml0aWVzIHRvIHNlbGxcbiAgICovXG4gIGFzeW5jIHN0b3BMaW1pdFNlbGwoYWNjb3VudElkLCB0aWNrZXIsIHN0b3AsIGxpbWl0LCBxdWFudGl0eSkge1xuICAgIGNvbnN0IHNlY3VyaXR5ID0gYXdhaXQgdGhpcy5kYXRhLmdldFNlY3VyaXR5KHRpY2tlcik7XG5cbiAgICAvLyBUaGUgV2VhbHRoc2ltcGxlIFRyYWRlIGJhY2tlbmQgZG9lc24ndCBjaGVjayBmb3IgdGhpcywgZXZlbiB0aG91Z2ggdGhlIGFwcCBkb2VzLi5cbiAgICBpZiAoaXNDYW5hZGlhblNlY3VyaXR5KHNlY3VyaXR5LnN0b2NrLnByaW1hcnlfZXhjaGFuZ2UpICYmIHN0b3AgIT09IGxpbWl0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RTWC9UU1gtViBzZWN1cml0aWVzIG11c3QgaGF2ZSBhbiBlcXVpdmFsZW50IHN0b3AgYW5kIGxpbWl0IHByaWNlLicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5QTEFDRV9PUkRFUiwge1xuICAgICAgc2VjdXJpdHlfaWQ6IHNlY3VyaXR5LmlkLFxuICAgICAgc3RvcF9wcmljZTogc3RvcCxcbiAgICAgIGxpbWl0X3ByaWNlOiBsaW1pdCxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgb3JkZXJfdHlwZTogJ3NlbGxfcXVhbnRpdHknLFxuICAgICAgb3JkZXJfc3ViX3R5cGU6ICdzdG9wX2xpbWl0JyxcbiAgICAgIHRpbWVfaW5fZm9yY2U6ICdkYXknLFxuICAgICAgYWNjb3VudF9pZDogYWNjb3VudElkLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9yZGVycztcbiIsIi8qKlxuICogVGhlIGRlZmF1bHQgcHJvdmlkZXIgZm9yIHF1b3RlcyBpcyBXZWFsdGhzaW1wbGUgVHJhZGUuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgKGRhdGEpID0+ICh7XG5cbiAgLyoqXG4gICAgICogUXVvdGUgZm9yIGEgdGlja2VyIGZyb20gdGhlIFdlYWx0aHNpbXBsZSBUcmFkZSBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIFJlbWVtYmVyIHRoYXQgdGhpcyBxdW90ZSBpcyBOT1QgcmVhbC10aW1lIVxuICAgICAqL1xuICBhc3luYyBxdW90ZSh0aWNrZXIpIHtcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgZGF0YS5nZXRTZWN1cml0eSh0aWNrZXIsIHRydWUpO1xuICAgIHJldHVybiBpbmZvLnF1b3RlLmFtb3VudDtcbiAgfSxcbn0pO1xuIiwiaW1wb3J0IFRyYWRlUXVvdGVzIGZyb20gJy4vZGVmYXVsdCc7XG5pbXBvcnQgVGlja2VyIGZyb20gJy4uL2NvcmUvdGlja2VyJztcbmltcG9ydCBlbmRwb2ludHMgZnJvbSAnLi4vYXBpL2VuZHBvaW50cyc7XG5cbmNsYXNzIFF1b3RlcyB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFF1b3RlcyBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBIVFRQUyBXb3JrZXIgc3RhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gaHR0cHNXb3JrZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGh0dHBzV29ya2VyLCBkYXRhKSB7XG4gICAgLy8gV2VhbHRoc2ltcGxlIFRyYWRlIGlzIG91ciBkZWZhdWx0IHNvdXJjZSBmb3IgcXVvdGVzLCBkZXNwaXRlXG4gICAgLy8gaGF2aW5nIGEgMTUgbWluIGRlbGF5XG4gICAgdGhpcy5kZWZhdWx0UHJvdmlkZXIgPSBuZXcgVHJhZGVRdW90ZXMoZGF0YSk7XG5cbiAgICAvLyBNYWludGFpbnMgcXVvdGUgcHJvdmlkZXJzIG9uIGFuIGV4Y2hhbmdlIGJhc2lzXG4gICAgdGhpcy5wcm92aWRlcnMgPSB7fTtcblxuICAgIHRoaXMud29ya2VyID0gaHR0cHNXb3JrZXI7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIExvYWQgYSBjdXN0b20gcHJvdmlkZXIgZm9yIHRoZSBleGNoYW5nZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZXhjaGFuZ2UgVGhlIGV4Y2hhbmdlIHRoYXQgdGhlIHByb3ZpZGVyIGZldGNoZXMgcXVvdGVzIGZvclxuICAgICAqIEBwYXJhbSB7Kn0gcHJvdmlkZXIgVGhlIHByb3ZpZGVyIG9iamVjdCBjb250YWluaW5nIHRoZSBxdW90ZSgpIGltcGxlbWVudGF0aW9uLlxuICAgICAqL1xuICB1c2UoZXhjaGFuZ2UsIHByb3ZpZGVyKSB7XG4gICAgaWYgKHR5cGVvZiAocHJvdmlkZXIucXVvdGUpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBUaGUgcHJvdmlkZXIgbXVzdCBoYXZlIGEgcXVvdGUoKSBpbXBsZW1lbnRhdGlvbiB0aGF0IHdlIGNhbiBjYWxsIGxhdGVyIVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHF1b3RlIHByb3ZpZGVyIGZvciAke2V4Y2hhbmdlfSFgKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3ZpZGVyc1tleGNoYW5nZV0gPSBwcm92aWRlcjtcbiAgfVxuXG4gIC8qKlxuICAgICAqIE9idGFpbnMgYSBxdW90ZSBmb3IgdGhlIHRpY2tlci4gVGhlIHNvdXJjZSBvZiB0aGUgcXVvdGUgbWF5IGJlIGEgY3VzdG9tXG4gICAgICogcHJvdmlkZXIgaWYgYSB2YWxpZCBwcm92aWRlciBpcyByZWdpc3RlcmVkIGZvciB0aGUgZXhjaGFuZ2UgdGhhdCB0aGVcbiAgICAgKiB0aWNrZXIgdHJhZGVzIG9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzZWN1cml0eSBUaGUgc2VjdXJpdHkgdG8gZ2V0IGEgcXVvdGUgZm9yLlxuICAgICAqL1xuICBhc3luYyBnZXQoc2VjdXJpdHkpIHtcbiAgICBsZXQgZXhjaGFuZ2UgPSBudWxsO1xuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIoc2VjdXJpdHkpO1xuXG4gICAgaWYgKHRpY2tlci5leGNoYW5nZSkge1xuICAgICAgLy8gV2UgbmVlZCB0aGUgZXhjaGFuZ2UgaW4gdGhlIG5leHQgc3RlcCBpZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkXG4gICAgICAvLyBhIGN1c3RvbSBwcm92aWRlciBmb3IgYW4gZXhjaGFuZ2UuIFNvIGlmIHRoZSB1c2VyIGhhc24ndCBwcm92aWRlZFxuICAgICAgLy8gaXQsIHdlIHdpbGwgaGF2ZSB0byBwaW5nIFdlYWx0aHNpbXBsZSB0cmFkZSB0byBnZXQgaXQuXG4gICAgICBleGNoYW5nZSA9IHRpY2tlci5leGNoYW5nZTtcbiAgICB9IGVsc2UgaWYgKHRpY2tlci5jcnlwdG8gJiYgdGlja2VyLmlkKSB7XG4gICAgICAvLyBJZiB0aGUgaWQgaXMgb25seSBnaXZlbiBidXQgd2Uga25vdyBpdCdzIGEgY3J5cHRvIGlkLFxuICAgICAgLy8gd2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHNldCBleGNoYW5nZSB0byAnQ0MnLlxuICAgICAgZXhjaGFuZ2UgPSAnQ0MnO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5wcm92aWRlcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0aGlzLmRhdGEuZ2V0U2VjdXJpdHkodGlja2VyLCBmYWxzZSk7XG4gICAgICBleGNoYW5nZSA9IGluZm8uc3RvY2sucHJpbWFyeV9leGNoYW5nZTtcbiAgICB9XG5cbiAgICAvLyBBIGN1c3RvbSBwcm92aWRlciB3aWxsIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IHNvdXJjZVxuICAgIGlmIChleGNoYW5nZSBpbiB0aGlzLnByb3ZpZGVycykge1xuICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzW2V4Y2hhbmdlXS5xdW90ZSh0aWNrZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm92aWRlci5xdW90ZSh0aWNrZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgaGlzdG9yaWNhbCBxdW90ZXMgd2l0aGluIGEgc3BlY2lmaWVkIGludGVydmFsIGZvciB0aGUgdGlja2VyLlxuICAgKiBUaGUgc291cmNlIG9mIHRoZSBoaXN0b3JpY2FsIGRhdGEgaXMgbm90IGN1c3RvbWl6YWJsZSBhdCB0aGlzIHRpbWUgYmVjYXVzZVxuICAgKiB0aGVyZSBpcyBubyBuZWVkIGZvciBpdCB0byBiZSBzby5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB0aWNrZXIgVGhlIHRpY2tlciB0byBzZWFyY2ggaGlzdG9yaWNhbCBxdW90ZXMgZm9yXG4gICAqIEBwYXJhbSB7Kn0gaW50ZXJ2YWwgVGhlIHRpbWUgcmFuZ2Ugb2YgdGhlIHF1b3Rlc1xuICAgKi9cbiAgYXN5bmMgaGlzdG9yeShzZWN1cml0eSwgaW50ZXJ2YWwpIHtcbiAgICAvLyB2YWxpZGF0ZSB0aGUgdXNlci1naXZlbiBzZWN1cml0eVxuICAgIGNvbnN0IHRpY2tlciA9IG5ldyBUaWNrZXIoc2VjdXJpdHkpO1xuICAgIGlmICghdGlja2VyLmlkKSB7XG4gICAgICB0aWNrZXIuaWQgPSAoYXdhaXQgdGhpcy5kYXRhLmdldFNlY3VyaXR5KHRpY2tlcikpLmlkO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndvcmtlci5oYW5kbGVSZXF1ZXN0KGVuZHBvaW50cy5RVU9URVNfSElTVE9SWSwgeyBpZDogdGlja2VyLmlkLCBpbnRlcnZhbCB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBRdW90ZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QsIFByb21pc2VJbXBsKSB7XG4gICAgaWYgKFByb21pc2VJbXBsID09PSB2b2lkIDApIFByb21pc2VJbXBsID0gUHJvbWlzZTtcblxuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSxcbiAgICAgIFByb21pc2VJbXBsXG4gICAgKTtcblxuICAgIHJldHVybiBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGNvbnRleHQuYXJnID0gYXJnO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICB2YXIgZGVsZWdhdGVSZXN1bHQgPSBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcbiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCA9PT0gQ29udGludWVTZW50aW5lbCkgY29udGludWU7XG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGVSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgY29udGV4dC5zZW50ID0gY29udGV4dC5fc2VudCA9IGNvbnRleHQuYXJnO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydCkge1xuICAgICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGV4dC5tZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBjb250ZXh0LmFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZSA9IEdlblN0YXRlRXhlY3V0aW5nO1xuXG4gICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBmcm9tIGlubmVyRm4sIHdlIGxlYXZlIHN0YXRlID09PVxuICAgICAgICAgIC8vIEdlblN0YXRlRXhlY3V0aW5nIGFuZCBsb29wIGJhY2sgZm9yIGFub3RoZXIgaW52b2NhdGlvbi5cbiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZVxuICAgICAgICAgICAgPyBHZW5TdGF0ZUNvbXBsZXRlZFxuICAgICAgICAgICAgOiBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZyxcbiAgICAgICAgICAgIGRvbmU6IGNvbnRleHQuZG9uZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2FsbCBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF0oY29udGV4dC5hcmcpIGFuZCBoYW5kbGUgdGhlXG4gIC8vIHJlc3VsdCwgZWl0aGVyIGJ5IHJldHVybmluZyBhIHsgdmFsdWUsIGRvbmUgfSByZXN1bHQgZnJvbSB0aGVcbiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsXG4gIC8vIHNldHRpbmcgY29udGV4dC5kZWxlZ2F0ZSB0byBudWxsLCBhbmQgcmV0dXJuaW5nIHRoZSBDb250aW51ZVNlbnRpbmVsLlxuICBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTtcbiAgICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEEgLnRocm93IG9yIC5yZXR1cm4gd2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIC50aHJvd1xuICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAvLyBOb3RlOiBbXCJyZXR1cm5cIl0gbXVzdCBiZSB1c2VkIGZvciBFUzMgcGFyc2luZyBjb21wYXRpYmlsaXR5LlxuICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl0pIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTtcblxuICAgICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICAvLyBJZiBtYXliZUludm9rZURlbGVnYXRlKGNvbnRleHQpIGNoYW5nZWQgY29udGV4dC5tZXRob2QgZnJvbVxuICAgICAgICAgICAgLy8gXCJyZXR1cm5cIiB0byBcInRocm93XCIsIGxldCB0aGF0IG92ZXJyaWRlIHRoZSBUeXBlRXJyb3IgYmVsb3cuXG4gICAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgIFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTtcblxuICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgdmFyIGluZm8gPSByZWNvcmQuYXJnO1xuXG4gICAgaWYgKCEgaW5mbykge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKTtcbiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuXG4gICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnlcbiAgICAgIC8vIHZhcmlhYmxlIHNwZWNpZmllZCBieSBkZWxlZ2F0ZS5yZXN1bHROYW1lIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcblxuICAgICAgLy8gUmVzdW1lIGV4ZWN1dGlvbiBhdCB0aGUgZGVzaXJlZCBsb2NhdGlvbiAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dC5uZXh0ID0gZGVsZWdhdGUubmV4dExvYztcblxuICAgICAgLy8gSWYgY29udGV4dC5tZXRob2Qgd2FzIFwidGhyb3dcIiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlXG4gICAgICAvLyBleGNlcHRpb24sIGxldCB0aGUgb3V0ZXIgZ2VuZXJhdG9yIHByb2NlZWQgbm9ybWFsbHkuIElmXG4gICAgICAvLyBjb250ZXh0Lm1ldGhvZCB3YXMgXCJuZXh0XCIsIGZvcmdldCBjb250ZXh0LmFyZyBzaW5jZSBpdCBoYXMgYmVlblxuICAgICAgLy8gXCJjb25zdW1lZFwiIGJ5IHRoZSBkZWxlZ2F0ZSBpdGVyYXRvci4gSWYgY29udGV4dC5tZXRob2Qgd2FzXG4gICAgICAvLyBcInJldHVyblwiLCBhbGxvdyB0aGUgb3JpZ2luYWwgLnJldHVybiBjYWxsIHRvIGNvbnRpbnVlIGluIHRoZVxuICAgICAgLy8gb3V0ZXIgZ2VuZXJhdG9yLlxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSBcInJldHVyblwiKSB7XG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlLXlpZWxkIHRoZSByZXN1bHQgcmV0dXJuZWQgYnkgdGhlIGRlbGVnYXRlIG1ldGhvZC5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIC8vIFRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBpcyBmaW5pc2hlZCwgc28gZm9yZ2V0IGl0IGFuZCBjb250aW51ZSB3aXRoXG4gICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci5cbiAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgfVxuXG4gIC8vIERlZmluZSBHZW5lcmF0b3IucHJvdG90eXBlLntuZXh0LHRocm93LHJldHVybn0gaW4gdGVybXMgb2YgdGhlXG4gIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEdwKTtcblxuICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvclwiO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18yMTRfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzU0NV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fOTQ5X187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBtb2R1bGUgZXhwb3J0cyBtdXN0IGJlIHJldHVybmVkIGZyb20gcnVudGltZSBzbyBlbnRyeSBpbmxpbmluZyBpcyBkaXNhYmxlZFxuLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygzNTIpO1xuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIl0sInNvdXJjZVJvb3QiOiIifQ==